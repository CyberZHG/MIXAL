const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/__vite-browser-external-DjY21iG7.js","assets/__vite-browser-external-DX66DVRa.css"])))=>i.map(i=>d[i]);
import"./__vite-browser-external-DjY21iG7.js";const Oi="modulepreload",Ri=function(r){return"/MIXAL/"+r},Qr={},Li=function(u,i,c){let D=Promise.resolve();if(i&&i.length>0){let _=function(C){return Promise.all(C.map(b=>Promise.resolve(b).then($=>({status:"fulfilled",value:$}),$=>({status:"rejected",reason:$}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");D=_(i.map(C=>{if(C=Ri(C),C in Qr)return;Qr[C]=!0;const b=C.endsWith(".css"),$=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${$}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":Oi,b||(k.as="script"),k.crossOrigin="",k.href=C,m&&k.setAttribute("nonce",m),document.head.appendChild(k),b)return new Promise((V,ce)=>{k.addEventListener("load",V),k.addEventListener("error",()=>ce(new Error(`Unable to preload CSS for ${C}`)))})}))}function g(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return D.then(h=>{for(const m of h||[])m.status==="rejected"&&g(m.reason);return u().catch(g)})};async function Mi(r={}){var u;(function(){function e(p){p=p.split("-")[0];for(var v=p.split(".").slice(0,3);v.length<3;)v.push("00");return v=v.map((A,B,x)=>A.padStart(2,"0")),v.join("")}var t=p=>[p/1e4|0,(p/100|0)%100,p%100].join("."),n=2147483647,o=typeof process<"u"&&process.versions?.node?e(process.versions.node):n;if(o<16e4)throw new Error(`This emscripten-generated code requires node v${t(16e4)} (detected v${t(o)})`);var s=typeof navigator<"u"&&navigator.userAgent;if(s){var a=s.includes("Safari/")&&!s.includes("Chrome/")&&s.match(/Version\/(\d+\.?\d*\.?\d*)/)?e(s.match(/Version\/(\d+\.?\d*\.?\d*)/)[1]):n;if(a<15e4)throw new Error(`This emscripten-generated code requires Safari v${t(15e4)} (detected v${a})`);var d=s.match(/Firefox\/(\d+(?:\.\d+)?)/)?parseFloat(s.match(/Firefox\/(\d+(?:\.\d+)?)/)[1]):n;if(d<79)throw new Error(`This emscripten-generated code requires Firefox v79 (detected v${d})`);var f=s.match(/Chrome\/(\d+(?:\.\d+)?)/)?parseFloat(s.match(/Chrome\/(\d+(?:\.\d+)?)/)[1]):n;if(f<85)throw new Error(`This emscripten-generated code requires Chrome v85 (detected v${f})`)}})();var i=r,c=!!globalThis.window,D=!!globalThis.WorkerGlobalScope,g=globalThis.process?.versions?.node&&globalThis.process?.type!="renderer",h=!c&&!g&&!D;if(g){const{createRequire:e}=await Li(async()=>{const{createRequire:t}=await import("./__vite-browser-external-DjY21iG7.js");return{createRequire:t}},__vite__mapDeps([0,1]));var m=e(import.meta.url)}var _="./this.program",C=import.meta.url,b="";function $(e){return i.locateFile?i.locateFile(e,b):b+e}var k,V;if(g){if(!(globalThis.process?.versions?.node&&globalThis.process?.type!="renderer"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var ce=m("node:fs");C.startsWith("file:")&&(b=m("node:path").dirname(m("node:url").fileURLToPath(C))+"/"),V=t=>{t=N(t)?new URL(t):t;var n=ce.readFileSync(t);return F(Buffer.isBuffer(n)),n},k=async(t,n=!0)=>{t=N(t)?new URL(t):t;var o=ce.readFileSync(t,n?void 0:"utf8");return F(n?Buffer.isBuffer(o):typeof o=="string"),o},process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2)}else if(!h)if(c||D){try{b=new URL(".",C).href}catch{}if(!(globalThis.window||globalThis.WorkerGlobalScope))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");D&&(V=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),k=async e=>{if(N(e))return new Promise((n,o)=>{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=()=>{if(s.status==200||s.status==0&&s.response){n(s.response);return}o(s.status)},s.onerror=o,s.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}else throw new Error("environment detection error");var S=console.log.bind(console),T=console.error.bind(console);F(!h,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var w;globalThis.WebAssembly||T("no native wasm support detected");var Y=!1;function F(e,t){e||le("Assertion failed"+(t?": "+t:""))}var N=e=>e.startsWith("file://");function oe(){var e=qt();F((e&3)==0),e==0&&(e+=4),j[e>>2]=34821223,j[e+4>>2]=2310721022,j[0]=1668509029}function Fe(){if(!Y){var e=qt();e==0&&(e+=4);var t=j[e>>2],n=j[e+4>>2];(t!=34821223||n!=2310721022)&&le(`Stack overflow! Stack cookie has been overwritten at ${He(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${He(n)} ${He(t)}`),j[0]!=1668509029&&le("Runtime error: The application has corrupted its heap memory area (address zero)!")}}class U extends Error{}class Ve extends U{constructor(t){super(t),this.excPtr=t;const n=Lr(t);this.name=n[0],this.message=n[1]}}(()=>{var e=new Int16Array(1),t=new Int8Array(e.buffer);e[0]=25459,(t[0]!==115||t[1]!==99)&&le("Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)")})();function ke(e){Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{configurable:!0,set(){le(`Attempt to set \`Module.${e}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function l(e){return()=>F(!1,`call to '${e}' via reference taken before Wasm module initialization`)}function E(e){Object.getOwnPropertyDescriptor(i,e)&&le(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function O(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_preloadFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function q(e){G(e)}function G(e){Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;O(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),le(t)}})}var L,Le,pe,ge,K,De,je,j,dr,fr,Dr,pr,ft=!1;function bn(){var e=Gr.buffer;pe=new Int8Array(e),K=new Int16Array(e),ge=new Uint8Array(e),De=new Uint16Array(e),je=new Int32Array(e),j=new Uint32Array(e),dr=new Float32Array(e),fr=new Float64Array(e),Dr=new BigInt64Array(e),pr=new BigUint64Array(e)}F(globalThis.Int32Array&&globalThis.Float64Array&&Int32Array.prototype.subarray&&Int32Array.prototype.set,"JS engine does not provide full typed array support");function Bn(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ln(i.preRun.shift());ke("preRun"),gr(mr)}function wn(){F(!ft),ft=!0,Fe(),Xe.__wasm_call_ctors()}function Sn(){if(Fe(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Rn(i.postRun.shift());ke("postRun"),gr(yr)}function le(e){i.onAbort?.(e),e="Aborted("+e+")",T(e),Y=!0;var t=new WebAssembly.RuntimeError(e);throw Le?.(t),t}var Ce={error(){le("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){Ce.error()},createDataFile(){Ce.error()},createPreloadedFile(){Ce.error()},createLazyFile(){Ce.error()},open(){Ce.error()},mkdev(){Ce.error()},registerDevice(){Ce.error()},analyzePath(){Ce.error()},ErrnoError(){Ce.error()}};function Ae(e,t){return(...n)=>{F(ft,`native function \`${e}\` called before runtime initialization`);var o=Xe[e];return F(o,`exported native function \`${e}\` not found`),F(n.length<=t,`native function \`${e}\` called with ${n.length} args but expects ${t}`),o(...n)}}var $t;function xn(){return i.locateFile?$("MixalWASM.wasm"):new URL("/MIXAL/assets/MixalWASM-D9hkVPGy.wasm",import.meta.url).href}function Tn(e){if(e==$t&&w)return new Uint8Array(w);if(V)return V(e);throw"both async and sync fetching of the wasm failed"}async function $n(e){if(!w)try{var t=await k(e);return new Uint8Array(t)}catch{}return Tn(e)}async function In(e,t){try{var n=await $n(e),o=await WebAssembly.instantiate(n,t);return o}catch(s){T(`failed to asynchronously prepare wasm: ${s}`),N(e)&&T(`warning: Loading from a file URI (${e}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),le(s)}}async function kn(e,t,n){if(!e&&!N(t)&&!g)try{var o=fetch(t,{credentials:"same-origin"}),s=await WebAssembly.instantiateStreaming(o,n);return s}catch(a){T(`wasm streaming compile failed: ${a}`),T("falling back to ArrayBuffer instantiation")}return In(t,n)}function Pn(){var e={env:Jr,wasi_snapshot_preview1:Jr};return e}async function On(){function e(d,f){return Xe=d.exports,ci(Xe),bn(),Xe}var t=i;function n(d){return F(i===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,e(d.instance)}var o=Pn();if(i.instantiateWasm)return new Promise((d,f)=>{try{i.instantiateWasm(o,(p,v)=>{d(e(p,v))})}catch(p){T(`Module.instantiateWasm callback failed with error: ${p}`),f(p)}});$t??=xn();var s=await kn(w,$t,o),a=n(s);return a}var gr=e=>{for(;e.length>0;)e.shift()(i)},yr=[],Rn=e=>yr.push(e),mr=[],Ln=e=>mr.push(e),He=e=>(F(typeof e=="number",`ptrToString expects a number, got ${typeof e}`),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),Q=e=>Wr(e),ee=()=>jr(),Qe=e=>{Qe.shown||={},Qe.shown[e]||(Qe.shown[e]=1,g&&(e="warning: "+e),T(e))},hr=globalThis.TextDecoder&&new TextDecoder,Fr=(e,t,n,o)=>{var s=t+n;if(o)return s;for(;e[t]&&!(t>=s);)++t;return t},Er=(e,t=0,n,o)=>{var s=Fr(e,t,n,o);if(s-t>16&&e.buffer&&hr)return hr.decode(e.subarray(t,s));for(var a="";t<s;){var d=e[t++];if(!(d&128)){a+=String.fromCharCode(d);continue}var f=e[t++]&63;if((d&224)==192){a+=String.fromCharCode((d&31)<<6|f);continue}var p=e[t++]&63;if((d&240)==224?d=(d&15)<<12|f<<6|p:((d&248)!=240&&Qe("Invalid UTF-8 leading byte "+He(d)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),d=(d&7)<<18|f<<12|p<<6|e[t++]&63),d<65536)a+=String.fromCharCode(d);else{var v=d-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a},qe=(e,t,n)=>(F(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?Er(ge,e,t,n):""),Mn=(e,t,n,o)=>le(`Assertion failed: ${qe(e)}, at: `+[t?qe(t):"unknown filename",n,o?qe(o):"unknown function"]),et=[],Dt=0,Nn=e=>{var t=new It(e);return t.get_caught()||(t.set_caught(!0),Dt--),t.set_rethrown(!1),et.push(t),zr(e)},Se=0,Un=()=>{Z(0,0),F(et.length>0);var e=et.pop();zt(e.excPtr),Se=0};class It{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){j[this.ptr+4>>2]=t}get_type(){return j[this.ptr+4>>2]}set_destructor(t){j[this.ptr+8>>2]=t}get_destructor(){return j[this.ptr+8>>2]}set_caught(t){t=t?1:0,pe[this.ptr+12]=t}get_caught(){return pe[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,pe[this.ptr+13]=t}get_rethrown(){return pe[this.ptr+13]!=0}init(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)}set_adjusted_ptr(t){j[this.ptr+16>>2]=t}get_adjusted_ptr(){return j[this.ptr+16>>2]}}var pt=e=>Nr(e),vr=e=>{var t=Se?.excPtr;if(!t)return pt(0),0;var n=new It(t);n.set_adjusted_ptr(t);var o=n.get_type();if(!o)return pt(0),t;for(var s of e){if(s===0||s===o)break;var a=n.ptr+16;if(qr(s,o,a))return pt(s),t}return pt(o),t},Wn=()=>vr([]),Vn=e=>vr([e]),jn=()=>{var e=et.pop();e||le("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(et.push(e),e.set_rethrown(!0),e.set_caught(!1),Dt++),At(t),Se=new Ve(t),Se},Hn=(e,t,n)=>{var o=new It(e);throw o.init(t,n),At(e),Se=new Ve(e),Dt++,Se},qn=()=>Dt,zn=e=>{throw Se||(Se=new Ve(e)),Se},Gn=()=>le("native code called abort()"),gt={},kt=e=>{for(;e.length;){var t=e.pop(),n=e.pop();n(t)}};function tt(e){return this.fromWireType(j[e>>2])}var ze={},Me={},yt={},Jn=class extends Error{constructor(t){super(t),this.name="InternalError"}},mt=e=>{throw new Jn(e)},be=(e,t,n)=>{e.forEach(f=>yt[f]=t);function o(f){var p=n(f);p.length!==e.length&&mt("Mismatched type converter count");for(var v=0;v<e.length;++v)ye(e[v],p[v])}var s=new Array(t.length),a=[],d=0;for(let[f,p]of t.entries())Me.hasOwnProperty(p)?s[f]=Me[p]:(a.push(p),ze.hasOwnProperty(p)||(ze[p]=[]),ze[p].push(()=>{s[f]=Me[p],++d,d===a.length&&o(s)}));a.length===0&&o(s)},Xn=e=>{var t=gt[e];delete gt[e];var n=t.rawConstructor,o=t.rawDestructor,s=t.fields,a=s.map(d=>d.getterReturnType).concat(s.map(d=>d.setterArgumentType));be([e],a,d=>{var f={};for(var[p,v]of s.entries()){const A=d[p],B=v.getter,x=v.getterContext,P=d[p+s.length],H=v.setter,z=v.setterContext;f[v.fieldName]={read:re=>A.fromWireType(B(x,re)),write:(re,ne)=>{var we=[];H(z,re,P.toWireType(we,ne)),kt(we)},optional:A.optional}}return[{name:t.name,fromWireType:A=>{var B={};for(var x in f)B[x]=f[x].read(A);return o(A),B},toWireType:(A,B)=>{for(var x in f)if(!(x in B)&&!f[x].optional)throw new TypeError(`Missing field: "${x}"`);var P=n();for(x in f)f[x].write(P,B[x]);return A!==null&&A.push(o,P),P},readValueFromPointer:tt,destructorFunction:o}]})},se=e=>{for(var t="";;){var n=ge[e++];if(!n)return t;t+=String.fromCharCode(n)}},rt=class extends Error{constructor(t){super(t),this.name="BindingError"}},W=e=>{throw new rt(e)};function Yn(e,t,n={}){var o=t.name;if(e||W(`type "${o}" must have a positive integer typeid pointer`),Me.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;W(`Cannot register type '${o}' twice`)}if(Me[e]=t,delete yt[e],ze.hasOwnProperty(e)){var s=ze[e];delete ze[e],s.forEach(a=>a())}}function ye(e,t,n={}){return Yn(e,t,n)}var Cr=(e,t,n)=>{switch(t){case 1:return n?o=>pe[o]:o=>ge[o];case 2:return n?o=>K[o>>1]:o=>De[o>>1];case 4:return n?o=>je[o>>2]:o=>j[o>>2];case 8:return n?o=>Dr[o>>3]:o=>pr[o>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ne=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},_r=(e,t,n,o)=>{if(t<n||t>o)throw new TypeError(`Passing a number "${Ne(t)}" from JS side to C/C++ side to an argument of type "${e}", which is outside the valid range [${n}, ${o}]!`)},Zn=(e,t,n,o,s)=>{t=se(t);const a=o===0n;let d=f=>f;if(a){const f=n*8;d=p=>BigInt.asUintN(f,p),s=d(s)}ye(e,{name:t,fromWireType:d,toWireType:(f,p)=>{if(typeof p=="number")p=BigInt(p);else if(typeof p!="bigint")throw new TypeError(`Cannot convert "${Ne(p)}" to ${this.name}`);return _r(t,p,o,s),p},readValueFromPointer:Cr(t,n,!a),destructorFunction:null})},Kn=(e,t,n,o)=>{t=se(t),ye(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,a){return a?n:o},readValueFromPointer:function(s){return this.fromWireType(ge[s])},destructorFunction:null})},Qn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Pt=e=>{function t(n){return n.$$.ptrType.registeredClass.name}W(t(e)+" instance already deleted")},Ot=!1,Ar=e=>{},eu=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},br=e=>{e.count.value-=1;var t=e.count.value===0;t&&eu(e)},Br=(e,t,n)=>{if(t===n)return e;if(n.baseClass===void 0)return null;var o=Br(e,t,n.baseClass);return o===null?null:n.downcast(o)},wr={},tu={},ru=(e,t)=>{for(t===void 0&&W("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},nu=(e,t)=>(t=ru(e,t),tu[t]),ht=(e,t)=>{(!t.ptrType||!t.ptr)&&mt("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,o=!!t.smartPtr;return n!==o&&mt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},nt(Object.create(e,{$$:{value:t,writable:!0}}))};function Sr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=nu(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var o=n.clone();return this.destructor(e),o}function s(){return this.isSmartPointer?ht(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):ht(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(t),d=wr[a];if(!d)return s.call(this);var f;this.isConst?f=d.constPointerType:f=d.pointerType;var p=Br(t,this.registeredClass,f.registeredClass);return p===null?s.call(this):this.isSmartPointer?ht(f.registeredClass.instancePrototype,{ptrType:f,ptr:p,smartPtrType:this,smartPtr:e}):ht(f.registeredClass.instancePrototype,{ptrType:f,ptr:p})}var nt=e=>globalThis.FinalizationRegistry?(Ot=new FinalizationRegistry(t=>{console.warn(t.leakWarning),br(t.$$)}),nt=t=>{var n=t.$$,o=!!n.smartPtr;if(o){var s={$$:n},a=n.ptrType.registeredClass,d=new Error(`Embind found a leaked C++ instance ${a.name} <${He(n.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`);"captureStackTrace"in Error&&Error.captureStackTrace(d,Sr),s.leakWarning=d.stack.replace(/^Error: /,""),Ot.register(t,s,t)}return t},Ar=t=>Ot.unregister(t),nt(e)):(nt=t=>t,e),uu=()=>{let e=Ft.prototype;Object.assign(e,{isAliasOf(n){if(!(this instanceof Ft)||!(n instanceof Ft))return!1;var o=this.$$.ptrType.registeredClass,s=this.$$.ptr;n.$$=n.$$;for(var a=n.$$.ptrType.registeredClass,d=n.$$.ptr;o.baseClass;)s=o.upcast(s),o=o.baseClass;for(;a.baseClass;)d=a.upcast(d),a=a.baseClass;return o===a&&s===d},clone(){if(this.$$.ptr||Pt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=nt(Object.create(Object.getPrototypeOf(this),{$$:{value:Qn(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||Pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),Ar(this),br(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)};function Ft(){}var Rt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Lt=(e,t,n)=>{if(e[t].overloadTable===void 0){var o=e[t];e[t]=function(...s){return e[t].overloadTable.hasOwnProperty(s.length)||W(`Function '${n}' called with an invalid number of arguments (${s.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[s.length].apply(this,s)},e[t].overloadTable=[],e[t].overloadTable[o.argCount]=o}},Et=(e,t,n)=>{i.hasOwnProperty(e)?(W(`Cannot register public name '${e}' twice`),Lt(i,e,e),i[e].overloadTable.hasOwnProperty(n)&&W(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),i[e].overloadTable[n]=t):(i[e]=t,i[e].argCount=n)},iu=48,ou=57,su=e=>{F(typeof e=="string"),e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=iu&&t<=ou?`_${e}`:e};function au(e,t,n,o,s,a,d,f){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=o,this.baseClass=s,this.getActualType=a,this.upcast=d,this.downcast=f,this.pureVirtualFunctions=[]}var vt=(e,t,n)=>{for(;t!==n;)t.upcast||W(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function cu(e,t){if(t===null)return this.isReference&&W(`null is not a valid ${this.name}`),0;t.$$||W(`Cannot pass "${Ne(t)}" as a ${this.name}`),t.$$.ptr||W(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,o=vt(t.$$.ptr,n,this.registeredClass);return o}function lu(e,t){var n;if(t===null)return this.isReference&&W(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;(!t||!t.$$)&&W(`Cannot pass "${Ne(t)}" as a ${this.name}`),t.$$.ptr||W(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&W(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var o=t.$$.ptrType.registeredClass;if(n=vt(t.$$.ptr,o,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&W("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:W(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var s=t.clone();n=this.rawShare(n,Ut.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,n)}break;default:W("Unsupported sharing policy")}return n}function du(e,t){if(t===null)return this.isReference&&W(`null is not a valid ${this.name}`),0;t.$$||W(`Cannot pass "${Ne(t)}" as a ${this.name}`),t.$$.ptr||W(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&W(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,o=vt(t.$$.ptr,n,this.registeredClass);return o}var fu=()=>{Object.assign(Ct.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},readValueFromPointer:tt,fromWireType:Sr})};function Ct(e,t,n,o,s,a,d,f,p,v,A){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=o,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=d,this.rawGetPointee=f,this.rawConstructor=p,this.rawShare=v,this.rawDestructor=A,!s&&t.baseClass===void 0?o?(this.toWireType=cu,this.destructorFunction=null):(this.toWireType=du,this.destructorFunction=null):this.toWireType=lu}var Du=(e,t,n)=>{i.hasOwnProperty(e)||mt("Replacing nonexistent public symbol"),i[e].overloadTable!==void 0&&n!==void 0||(i[e]=t,i[e].argCount=n)},xr=[],te=e=>{var t=xr[e];return t||(xr[e]=t=Gt.get(e)),F(Gt.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t},me=(e,t,n=!1)=>{F(!n,"Async bindings are only supported with JSPI."),e=se(e);function o(){var a=te(t);return a}var s=o();return typeof s!="function"&&W(`unknown function pointer with signature ${e}: ${t}`),s};class pu extends Error{}var Tr=e=>{var t=Mr(e),n=se(t);return Be(t),n},Ge=(e,t)=>{var n=[],o={};function s(a){if(!o[a]&&!Me[a]){if(yt[a]){yt[a].forEach(s);return}n.push(a),o[a]=!0}}throw t.forEach(s),new pu(`${e}: `+n.map(Tr).join([", "]))},gu=(e,t,n,o,s,a,d,f,p,v,A,B,x)=>{A=se(A),a=me(s,a),f&&=me(d,f),v&&=me(p,v),x=me(B,x);var P=su(A);Et(P,function(){Ge(`Cannot construct ${A} due to unbound types`,[o])}),be([e,t,n],o?[o]:[],H=>{H=H[0];var z,re;o?(z=H.registeredClass,re=z.instancePrototype):re=Ft.prototype;var ne=Rt(A,function(...Jt){if(Object.getPrototypeOf(this)!==we)throw new rt(`Use 'new' to construct ${A}`);if(he.constructor_body===void 0)throw new rt(`${A} has no accessible constructor`);var Kr=he.constructor_body[Jt.length];if(Kr===void 0)throw new rt(`Tried to invoke ctor of ${A} with invalid number of parameters (${Jt.length}) - expected (${Object.keys(he.constructor_body).toString()}) parameters instead!`);return Kr.apply(this,Jt)}),we=Object.create(re,{constructor:{value:ne}});ne.prototype=we;var he=new au(A,ne,we,x,z,a,f,v);he.baseClass&&(he.baseClass.__derivedClasses??=[],he.baseClass.__derivedClasses.push(he));var Pi=new Ct(A,he,!0,!1,!1),Yr=new Ct(A+"*",he,!1,!1,!1),Zr=new Ct(A+" const*",he,!1,!0,!1);return wr[e]={pointerType:Yr,constPointerType:Zr},Du(P,ne),[Pi,Yr,Zr]})};function $r(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function yu(e,t,n,o,s){if(e<t||e>n){var a=t==n?t:`${t} to ${n}`;s(`function ${o} called with ${e} arguments, expected ${a}`)}}function mu(e,t,n,o){var s=$r(e),a=e.length-2,d=[],f=["fn"];t&&f.push("thisWired");for(var p=0;p<a;++p)d.push(`arg${p}`),f.push(`arg${p}Wired`);d=d.join(","),f=f.join(",");var v=`return function (${d}) {
`;v+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,s&&(v+=`var destructors = [];
`);var A=s?"destructors":"null",B=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];t&&(v+=`var thisWired = toClassParamWire(${A}, this);
`);for(var p=0;p<a;++p){var x=`toArg${p}Wire`;v+=`var arg${p}Wired = ${x}(${A}, arg${p});
`,B.push(x)}if(v+=(n||o?"var rv = ":"")+`invoker(${f});
`,s)v+=`runDestructors(destructors);
`;else for(var p=t?1:2;p<e.length;++p){var P=p===1?"thisWired":"arg"+(p-2)+"Wired";e[p].destructorFunction!==null&&(v+=`${P}_dtor(${P});
`,B.push(`${P}_dtor`))}return n&&(v+=`var ret = fromRetWire(rv);
return ret;
`),v+=`}
`,B.push("checkArgCount","minArgs","maxArgs"),v=`if (arguments.length !== ${B.length}){ throw new Error(humanName + "Expected ${B.length} closure arguments " + arguments.length + " given."); }
${v}`,new Function(B,v)}function hu(e){for(var t=e.length-2,n=e.length-1;n>=2&&e[n].optional;--n)t--;return t}function Mt(e,t,n,o,s,a){var d=t.length;d<2&&W("argTypes array size mismatch! Must at least get return value and 'this' types!"),F(!a,"Async bindings are only supported with JSPI.");for(var f=t[1]!==null&&n!==null,p=$r(t),v=!t[0].isVoid,A=d-2,B=hu(t),x=t[0],P=t[1],H=[e,W,o,s,kt,x.fromWireType.bind(x),P?.toWireType.bind(P)],z=2;z<d;++z){var re=t[z];H.push(re.toWireType.bind(re))}if(!p)for(var z=f?1:2;z<t.length;++z)t[z].destructorFunction!==null&&H.push(t[z].destructorFunction);H.push(yu,B,A);var we=mu(t,f,v,a)(...H);return Rt(e,we)}var Nt=(e,t)=>{for(var n=[],o=0;o<e;o++)n.push(j[t+o*4>>2]);return n},Ir=e=>{e=e.trim();const t=e.indexOf("(");return t===-1?e:(F(e.endsWith(")"),"Parentheses for argument names should match."),e.slice(0,t))},Fu=(e,t,n,o,s,a,d,f,p)=>{var v=Nt(n,o);t=se(t),t=Ir(t),a=me(s,a,f),be([],[e],A=>{A=A[0];var B=`${A.name}.${t}`;function x(){Ge(`Cannot call ${B} due to unbound types`,v)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var P=A.registeredClass.constructor;return P[t]===void 0?(x.argCount=n-1,P[t]=x):(Lt(P,t,B),P[t].overloadTable[n-1]=x),be([],v,H=>{var z=[H[0],null].concat(H.slice(1)),re=Mt(B,z,null,a,d,f);if(P[t].overloadTable===void 0?(re.argCount=n-1,P[t]=re):P[t].overloadTable[n-1]=re,A.registeredClass.__derivedClasses)for(const ne of A.registeredClass.__derivedClasses)ne.constructor.hasOwnProperty(t)||(ne.constructor[t]=re);return[]}),[]})},Eu=(e,t,n,o,s,a)=>{F(t>0);var d=Nt(t,n);s=me(o,s),be([],[e],f=>{f=f[0];var p=`constructor ${f.name}`;if(f.registeredClass.constructor_body===void 0&&(f.registeredClass.constructor_body=[]),f.registeredClass.constructor_body[t-1]!==void 0)throw new rt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${f.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return f.registeredClass.constructor_body[t-1]=()=>{Ge(`Cannot construct ${f.name} due to unbound types`,d)},be([],d,v=>(v.splice(1,0,null),f.registeredClass.constructor_body[t-1]=Mt(p,v,null,s,a),[])),[]})},vu=(e,t,n,o,s,a,d,f,p,v)=>{var A=Nt(n,o);t=se(t),t=Ir(t),a=me(s,a,p),be([],[e],B=>{B=B[0];var x=`${B.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&B.registeredClass.pureVirtualFunctions.push(t);function P(){Ge(`Cannot call ${x} due to unbound types`,A)}var H=B.registeredClass.instancePrototype,z=H[t];return z===void 0||z.overloadTable===void 0&&z.className!==B.name&&z.argCount===n-2?(P.argCount=n-2,P.className=B.name,H[t]=P):(Lt(H,t,x),H[t].overloadTable[n-2]=P),be([],A,re=>{var ne=Mt(x,re,B,a,d,p);return H[t].overloadTable===void 0?(ne.argCount=n-2,H[t]=ne):H[t].overloadTable[n-2]=ne,[]}),[]})},kr=(e,t,n)=>(e instanceof Object||W(`${n} with invalid "this": ${e}`),e instanceof t.registeredClass.constructor||W(`${n} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||W(`cannot call emscripten binding method ${n} on deleted object`),vt(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)),Cu=(e,t,n,o,s,a,d,f,p,v)=>{t=se(t),s=me(o,s),be([],[e],A=>{A=A[0];var B=`${A.name}.${t}`,x={get(){Ge(`Cannot access ${B} due to unbound types`,[n,d])},enumerable:!0,configurable:!0};return p?x.set=()=>Ge(`Cannot access ${B} due to unbound types`,[n,d]):x.set=P=>W(B+" is a read-only property"),Object.defineProperty(A.registeredClass.instancePrototype,t,x),be([],p?[n,d]:[n],P=>{var H=P[0],z={get(){var ne=kr(this,A,B+" getter");return H.fromWireType(s(a,ne))},enumerable:!0};if(p){p=me(f,p);var re=P[1];z.set=function(ne){var we=kr(this,A,B+" setter"),he=[];p(v,we,re.toWireType(he,ne)),kt(he)}}return Object.defineProperty(A.registeredClass.instancePrototype,t,z),[]}),[]})},Pr=[],xe=[0,1,,1,null,1,!0,1,!1,1],_u=e=>{e>9&&--xe[e+1]===0&&(F(xe[e]!==void 0,"Decref for unallocated handle."),xe[e]=void 0,Pr.push(e))},Ut={toValue:e=>(e||W(`Cannot use deleted val. handle = ${e}`),F(e===2||xe[e]!==void 0&&e%2===0,`invalid handle: ${e}`),xe[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=Pr.pop()||xe.length;return xe[t]=e,xe[t+1]=1,t}}}},Au={name:"emscripten::val",fromWireType:e=>{var t=Ut.toValue(e);return _u(e),t},toWireType:(e,t)=>Ut.toHandle(t),readValueFromPointer:tt,destructorFunction:null},bu=e=>ye(e,Au),Wt=(e,t,n)=>{switch(t){case 1:return n?function(o){return this.fromWireType(pe[o])}:function(o){return this.fromWireType(ge[o])};case 2:return n?function(o){return this.fromWireType(K[o>>1])}:function(o){return this.fromWireType(De[o>>1])};case 4:return n?function(o){return this.fromWireType(je[o>>2])}:function(o){return this.fromWireType(j[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Bu(e){return e===0?"object":e===1?"number":"string"}var wu=(e,t,n,o,s)=>{t=se(t);const a=Bu(s);switch(a){case"object":{let v=function(){};v.values={},ye(e,{name:t,constructor:v,valueType:a,fromWireType:function(A){return this.constructor.values[A]},toWireType:(A,B)=>B.value,readValueFromPointer:Wt(t,n,o),destructorFunction:null}),Et(t,v);break}case"number":{var d={};ye(e,{name:t,keysMap:d,valueType:a,fromWireType:v=>v,toWireType:(v,A)=>A,readValueFromPointer:Wt(t,n,o),destructorFunction:null}),Et(t,d),delete i[t].argCount;break}case"string":{var f={},p={},d={};ye(e,{name:t,valuesMap:f,reverseMap:p,keysMap:d,valueType:a,fromWireType:function(A){return this.reverseMap[A]},toWireType:function(A,B){return this.valuesMap[B]},readValueFromPointer:Wt(t,n,o),destructorFunction:null}),Et(t,d),delete i[t].argCount;break}}},Su=(e,t)=>{var n=Me[e];return n===void 0&&W(`${t} has unknown type ${Tr(e)}`),n},xu=(e,t,n)=>{var o=Su(e,"enum");switch(t=se(t),o.valueType){case"object":{var s=o.constructor,a=Object.create(o.constructor.prototype,{value:{value:n},constructor:{value:Rt(`${o.name}_${t}`,function(){})}});s.values[n]=a,s[t]=a;break}case"number":{o.keysMap[t]=n;break}case"string":{o.valuesMap[t]=n,o.reverseMap[n]=t,o.keysMap[t]=t;break}}},Tu=(e,t)=>{switch(t){case 4:return function(n){return this.fromWireType(dr[n>>2])};case 8:return function(n){return this.fromWireType(fr[n>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},$u=(e,t,n)=>{t=se(t),ye(e,{name:t,fromWireType:o=>o,toWireType:(o,s)=>{if(typeof s!="number"&&typeof s!="boolean")throw new TypeError(`Cannot convert ${Ne(s)} to ${this.name}`);return s},readValueFromPointer:Tu(t,n),destructorFunction:null})},Iu=(e,t,n,o,s)=>{t=se(t);const a=o===0;let d=p=>p;if(a){var f=32-8*n;d=p=>p<<f>>>f,s=d(s)}ye(e,{name:t,fromWireType:d,toWireType:(p,v)=>{if(typeof v!="number"&&typeof v!="boolean")throw new TypeError(`Cannot convert "${Ne(v)}" to ${t}`);return _r(t,v,o,s),v},readValueFromPointer:Cr(t,n,o!==0),destructorFunction:null})},ku=(e,t,n)=>{var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],s=o[t];function a(d){var f=j[d>>2],p=j[d+4>>2];return new s(pe.buffer,p,f)}n=se(n),ye(e,{name:n,fromWireType:a,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Pu=(e,t,n,o)=>{if(F(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(o>0))return 0;for(var s=n,a=n+o-1,d=0;d<e.length;++d){var f=e.codePointAt(d);if(f<=127){if(n>=a)break;t[n++]=f}else if(f<=2047){if(n+1>=a)break;t[n++]=192|f>>6,t[n++]=128|f&63}else if(f<=65535){if(n+2>=a)break;t[n++]=224|f>>12,t[n++]=128|f>>6&63,t[n++]=128|f&63}else{if(n+3>=a)break;f>1114111&&Qe("Invalid Unicode code point "+He(f)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[n++]=240|f>>18,t[n++]=128|f>>12&63,t[n++]=128|f>>6&63,t[n++]=128|f&63,d++}}return t[n]=0,n-s},Je=(e,t,n)=>(F(typeof n=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Pu(e,ge,t,n)),_t=e=>{for(var t=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);o<=127?t++:o<=2047?t+=2:o>=55296&&o<=57343?(t+=4,++n):t+=3}return t},Ou=(e,t)=>{t=se(t),ye(e,{name:t,fromWireType(n){var o=j[n>>2],s=n+4,a;return a=qe(s,o,!0),Be(n),a},toWireType(n,o){o instanceof ArrayBuffer&&(o=new Uint8Array(o));var s,a=typeof o=="string";a||ArrayBuffer.isView(o)&&o.BYTES_PER_ELEMENT==1||W("Cannot pass non-string to std::string"),a?s=_t(o):s=o.length;var d=Ht(4+s+1),f=d+4;return j[d>>2]=s,a?Je(o,f,s+1):ge.set(o,f),n!==null&&n.push(Be,d),d},readValueFromPointer:tt,destructorFunction(n){Be(n)}})},Or=globalThis.TextDecoder?new TextDecoder("utf-16le"):void 0,Ru=(e,t,n)=>{F(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var o=e>>1,s=Fr(De,o,t/2,n);if(s-o>16&&Or)return Or.decode(De.subarray(o,s));for(var a="",d=o;d<s;++d){var f=De[d];a+=String.fromCharCode(f)}return a},Lu=(e,t,n)=>{if(F(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),F(typeof n=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n??=2147483647,n<2)return 0;n-=2;for(var o=t,s=n<e.length*2?n/2:e.length,a=0;a<s;++a){var d=e.charCodeAt(a);K[t>>1]=d,t+=2}return K[t>>1]=0,t-o},Mu=e=>e.length*2,Nu=(e,t,n)=>{F(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var o="",s=e>>2,a=0;!(a>=t/4);a++){var d=j[s+a];if(!d&&!n)break;o+=String.fromCodePoint(d)}return o},Uu=(e,t,n)=>{if(F(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),F(typeof n=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),n??=2147483647,n<4)return 0;for(var o=t,s=o+n-4,a=0;a<e.length;++a){var d=e.codePointAt(a);if(d>65535&&a++,je[t>>2]=d,t+=4,t+4>s)break}return je[t>>2]=0,t-o},Wu=e=>{for(var t=0,n=0;n<e.length;++n){var o=e.codePointAt(n);o>65535&&n++,t+=4}return t},Vu=(e,t,n)=>{n=se(n);var o,s,a;t===2?(o=Ru,s=Lu,a=Mu):(F(t===4,"only 2-byte and 4-byte strings are currently supported"),o=Nu,s=Uu,a=Wu),ye(e,{name:n,fromWireType:d=>{var f=j[d>>2],p=o(d+4,f*t,!0);return Be(d),p},toWireType:(d,f)=>{typeof f!="string"&&W(`Cannot pass non-string to C++ string type ${n}`);var p=a(f),v=Ht(4+p+t);return j[v>>2]=p/t,s(f,v+4,p+t),d!==null&&d.push(Be,v),v},readValueFromPointer:tt,destructorFunction(d){Be(d)}})},ju=(e,t,n,o,s,a)=>{gt[e]={name:se(t),rawConstructor:me(n,o),rawDestructor:me(s,a),fields:[]}},Hu=(e,t,n,o,s,a,d,f,p,v)=>{gt[e].fields.push({fieldName:se(t),getterReturnType:n,getter:me(o,s),getterContext:a,setterArgumentType:d,setter:me(f,p),setterContext:v})},qu=(e,t)=>{t=se(t),ye(e,{isVoid:!0,name:t,fromWireType:()=>{},toWireType:(n,o)=>{}})},zu=(e,t,n,o)=>{var s=new Date().getFullYear(),a=new Date(s,0,1),d=new Date(s,6,1),f=a.getTimezoneOffset(),p=d.getTimezoneOffset(),v=Math.max(f,p);j[e>>2]=v*60,je[t>>2]=+(f!=p);var A=P=>{var H=P>=0?"-":"+",z=Math.abs(P),re=String(Math.floor(z/60)).padStart(2,"0"),ne=String(z%60).padStart(2,"0");return`UTC${H}${re}${ne}`},B=A(f),x=A(p);F(B),F(x),F(_t(B)<=16,`timezone name truncated to fit in TZNAME_MAX (${B})`),F(_t(x)<=16,`timezone name truncated to fit in TZNAME_MAX (${x})`),p<f?(Je(B,n,17),Je(x,o,17)):(Je(B,o,17),Je(x,n,17))},Gu=e=>{le(`Cannot enlarge memory arrays to size ${e} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${pe.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Ju=e=>{ge.length,e>>>=0,Gu(e)},Vt={},Xu=()=>_||"./this.program",ut=()=>{if(!ut.strings){var e=(globalThis.navigator?.language??"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Xu()};for(var n in Vt)Vt[n]===void 0?delete t[n]:t[n]=Vt[n];var o=[];for(var n in t)o.push(`${n}=${t[n]}`);ut.strings=o}return ut.strings},Yu=(e,t)=>{var n=0,o=0;for(var s of ut()){var a=t+n;j[e+o>>2]=a,n+=Je(s,a,1/0)+1,o+=4}return 0},Zu=(e,t)=>{var n=ut();j[e>>2]=n.length;var o=0;for(var s of n)o+=_t(s)+1;return j[t>>2]=o,0},Ku=e=>{le("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")};function Qu(e,t,n,o){return 70}var ei=[null,[],[]],ti=(e,t)=>{var n=ei[e];F(n),t===0||t===10?((e===1?S:T)(Er(n)),n.length=0):n.push(t)},ri=(e,t,n,o)=>{for(var s=0,a=0;a<n;a++){var d=j[t>>2],f=j[t+4>>2];t+=8;for(var p=0;p<f;p++)ti(e,ge[d+p]);s+=f}return j[o>>2]=s,0},jt=e=>e instanceof Ve?e.excPtr:e,ni=e=>At(jt(e)),ui=e=>zt(jt(e)),Rr=e=>Vr(e),ii=e=>{var t=ee(),n=Rr(4),o=Rr(4);Hr(e,n,o);var s=j[n>>2],a=j[o>>2],d=qe(s);Be(s);var f;return a&&(f=qe(a),Be(a)),Q(t),[d,f]},Lr=e=>ii(jt(e));uu(),fu(),F(xe.length===10);{if(i.noExitRuntime&&i.noExitRuntime,i.print&&(S=i.print),i.printErr&&(T=i.printErr),i.wasmBinary&&(w=i.wasmBinary),i.FS_createDataFile=Ce.createDataFile,i.FS_createPreloadedFile=Ce.createPreloadedFile,ai(),i.arguments&&i.arguments,i.thisProgram&&(_=i.thisProgram),F(typeof i.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),F(typeof i.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),F(typeof i.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),F(typeof i.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),F(typeof i.read>"u","Module.read option was removed"),F(typeof i.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),F(typeof i.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),F(typeof i.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),F(typeof i.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),F(typeof i.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),F(typeof i.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),F(typeof i.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),F(typeof i.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.shift()();ke("preInit")}var oi=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","zeroMemory","exitJS","getHeapMax","growMemory","withStackSave","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","readEmAsmArgs","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asyncLoad","asmjsMangle","alignMemory","mmapAlloc","HandleAllocator","getUniqueRunDependency","addRunDependency","removeRunDependency","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","intArrayFromString","intArrayToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_preloadFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","allocateUTF8","allocateUTF8OnStack","demangle","stackTrace","getNativeTypeSize","getFunctionArgsName","createJsInvokerSignature","PureVirtualError","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","installIndexedIterator","setDelayFunction","count_emval_handles","getStringOrSymbol","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];oi.forEach(q);var si=["run","out","err","callMain","abort","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","createNamedFunction","ptrToString","abortOnCannotGrowMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","getExecutableName","wasmTable","wasmMemory","noExitRuntime","addOnPreRun","addOnPostRun","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","AsciiToString","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","exnToPtr","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_unlink","FS_createPath","FS_createDevice","FS_readFile","FS","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_createDataFile","FS_forceLoadFile","FS_createLazyFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","print","printErr","jstoi_s","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getEnumValueType","getRequiredArgCount","createJsInvoker","UnboundTypeError","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","registeredPointers","registerType","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","assertIntegerRange","readPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","Emval","emval_methodCallers"];si.forEach(G),i.incrementExceptionRefcount=ni,i.decrementExceptionRefcount=ui,i.getExceptionMessage=Lr;function ai(){E("fetchSettings")}var Mr=l("___getTypeName"),Ht=l("_malloc"),qt=l("_emscripten_stack_get_end"),Be=l("_free"),Z=l("_setThrew"),Nr=l("__emscripten_tempret_set"),Ur=l("_emscripten_stack_init"),Wr=l("__emscripten_stack_restore"),Vr=l("__emscripten_stack_alloc"),jr=l("_emscripten_stack_get_current"),zt=l("___cxa_decrement_exception_refcount"),At=l("___cxa_increment_exception_refcount"),Hr=l("___get_exception_message"),qr=l("___cxa_can_catch"),zr=l("___cxa_get_exception_ptr"),Gr=l("wasmMemory"),Gt=l("wasmTable");function ci(e){F(typeof e.__getTypeName<"u","missing Wasm export: __getTypeName"),F(typeof e.malloc<"u","missing Wasm export: malloc"),F(typeof e.fflush<"u","missing Wasm export: fflush"),F(typeof e.emscripten_stack_get_end<"u","missing Wasm export: emscripten_stack_get_end"),F(typeof e.emscripten_stack_get_base<"u","missing Wasm export: emscripten_stack_get_base"),F(typeof e.strerror<"u","missing Wasm export: strerror"),F(typeof e.free<"u","missing Wasm export: free"),F(typeof e.setThrew<"u","missing Wasm export: setThrew"),F(typeof e._emscripten_tempret_set<"u","missing Wasm export: _emscripten_tempret_set"),F(typeof e.emscripten_stack_init<"u","missing Wasm export: emscripten_stack_init"),F(typeof e.emscripten_stack_get_free<"u","missing Wasm export: emscripten_stack_get_free"),F(typeof e._emscripten_stack_restore<"u","missing Wasm export: _emscripten_stack_restore"),F(typeof e._emscripten_stack_alloc<"u","missing Wasm export: _emscripten_stack_alloc"),F(typeof e.emscripten_stack_get_current<"u","missing Wasm export: emscripten_stack_get_current"),F(typeof e.__cxa_free_exception<"u","missing Wasm export: __cxa_free_exception"),F(typeof e.__cxa_decrement_exception_refcount<"u","missing Wasm export: __cxa_decrement_exception_refcount"),F(typeof e.__cxa_increment_exception_refcount<"u","missing Wasm export: __cxa_increment_exception_refcount"),F(typeof e.__get_exception_message<"u","missing Wasm export: __get_exception_message"),F(typeof e.__cxa_can_catch<"u","missing Wasm export: __cxa_can_catch"),F(typeof e.__cxa_get_exception_ptr<"u","missing Wasm export: __cxa_get_exception_ptr"),F(typeof e.memory<"u","missing Wasm export: memory"),F(typeof e.__indirect_function_table<"u","missing Wasm export: __indirect_function_table"),Mr=Ae("__getTypeName",1),Ht=Ae("malloc",1),qt=e.emscripten_stack_get_end,e.emscripten_stack_get_base,Be=Ae("free",1),Z=Ae("setThrew",2),Nr=Ae("_emscripten_tempret_set",1),Ur=e.emscripten_stack_init,e.emscripten_stack_get_free,Wr=e._emscripten_stack_restore,Vr=e._emscripten_stack_alloc,jr=e.emscripten_stack_get_current,zt=Ae("__cxa_decrement_exception_refcount",1),At=Ae("__cxa_increment_exception_refcount",1),Hr=Ae("__get_exception_message",3),qr=Ae("__cxa_can_catch",3),zr=Ae("__cxa_get_exception_ptr",1),Gr=e.memory,Gt=e.__indirect_function_table}var Jr={__assert_fail:Mn,__cxa_begin_catch:Nn,__cxa_end_catch:Un,__cxa_find_matching_catch_2:Wn,__cxa_find_matching_catch_3:Vn,__cxa_rethrow:jn,__cxa_throw:Hn,__cxa_uncaught_exceptions:qn,__resumeException:zn,_abort_js:Gn,_embind_finalize_value_object:Xn,_embind_register_bigint:Zn,_embind_register_bool:Kn,_embind_register_class:gu,_embind_register_class_class_function:Fu,_embind_register_class_constructor:Eu,_embind_register_class_function:vu,_embind_register_class_property:Cu,_embind_register_emval:bu,_embind_register_enum:wu,_embind_register_enum_value:xu,_embind_register_float:$u,_embind_register_integer:Iu,_embind_register_memory_view:ku,_embind_register_std_string:Ou,_embind_register_std_wstring:Vu,_embind_register_value_object:ju,_embind_register_value_object_field:Hu,_embind_register_void:qu,_tzset_js:zu,emscripten_resize_heap:Ju,environ_get:Yu,environ_sizes_get:Zu,fd_close:Ku,fd_seek:Qu,fd_write:ri,invoke_diii:Bi,invoke_fiii:bi,invoke_i:wi,invoke_ii:fi,invoke_iii:di,invoke_iiii:li,invoke_iiiii:Ci,invoke_iiiiii:hi,invoke_iiiiiii:yi,invoke_iiiiiiii:Ei,invoke_iiiiiiiiiii:vi,invoke_iiiiiiiiiiii:xi,invoke_iiiiiiiiiiiii:Ai,invoke_jiiii:_i,invoke_v:gi,invoke_vi:pi,invoke_vii:Di,invoke_viii:Fi,invoke_viiii:mi,invoke_viiiiiii:Si,invoke_viiiiiiiiii:Ti,invoke_viiiiiiiiiiiiiii:$i};function li(e,t,n,o){var s=ee();try{return te(e)(t,n,o)}catch(a){if(Q(s),!(a instanceof U))throw a;Z(1,0)}}function di(e,t,n){var o=ee();try{return te(e)(t,n)}catch(s){if(Q(o),!(s instanceof U))throw s;Z(1,0)}}function fi(e,t){var n=ee();try{return te(e)(t)}catch(o){if(Q(n),!(o instanceof U))throw o;Z(1,0)}}function Di(e,t,n){var o=ee();try{te(e)(t,n)}catch(s){if(Q(o),!(s instanceof U))throw s;Z(1,0)}}function pi(e,t){var n=ee();try{te(e)(t)}catch(o){if(Q(n),!(o instanceof U))throw o;Z(1,0)}}function gi(e){var t=ee();try{te(e)()}catch(n){if(Q(t),!(n instanceof U))throw n;Z(1,0)}}function yi(e,t,n,o,s,a,d){var f=ee();try{return te(e)(t,n,o,s,a,d)}catch(p){if(Q(f),!(p instanceof U))throw p;Z(1,0)}}function mi(e,t,n,o,s){var a=ee();try{te(e)(t,n,o,s)}catch(d){if(Q(a),!(d instanceof U))throw d;Z(1,0)}}function hi(e,t,n,o,s,a){var d=ee();try{return te(e)(t,n,o,s,a)}catch(f){if(Q(d),!(f instanceof U))throw f;Z(1,0)}}function Fi(e,t,n,o){var s=ee();try{te(e)(t,n,o)}catch(a){if(Q(s),!(a instanceof U))throw a;Z(1,0)}}function Ei(e,t,n,o,s,a,d,f){var p=ee();try{return te(e)(t,n,o,s,a,d,f)}catch(v){if(Q(p),!(v instanceof U))throw v;Z(1,0)}}function vi(e,t,n,o,s,a,d,f,p,v,A){var B=ee();try{return te(e)(t,n,o,s,a,d,f,p,v,A)}catch(x){if(Q(B),!(x instanceof U))throw x;Z(1,0)}}function Ci(e,t,n,o,s){var a=ee();try{return te(e)(t,n,o,s)}catch(d){if(Q(a),!(d instanceof U))throw d;Z(1,0)}}function _i(e,t,n,o,s){var a=ee();try{return te(e)(t,n,o,s)}catch(d){if(Q(a),!(d instanceof U))throw d;return Z(1,0),0n}}function Ai(e,t,n,o,s,a,d,f,p,v,A,B,x){var P=ee();try{return te(e)(t,n,o,s,a,d,f,p,v,A,B,x)}catch(H){if(Q(P),!(H instanceof U))throw H;Z(1,0)}}function bi(e,t,n,o){var s=ee();try{return te(e)(t,n,o)}catch(a){if(Q(s),!(a instanceof U))throw a;Z(1,0)}}function Bi(e,t,n,o){var s=ee();try{return te(e)(t,n,o)}catch(a){if(Q(s),!(a instanceof U))throw a;Z(1,0)}}function wi(e){var t=ee();try{return te(e)()}catch(n){if(Q(t),!(n instanceof U))throw n;Z(1,0)}}function Si(e,t,n,o,s,a,d,f){var p=ee();try{te(e)(t,n,o,s,a,d,f)}catch(v){if(Q(p),!(v instanceof U))throw v;Z(1,0)}}function xi(e,t,n,o,s,a,d,f,p,v,A,B){var x=ee();try{return te(e)(t,n,o,s,a,d,f,p,v,A,B)}catch(P){if(Q(x),!(P instanceof U))throw P;Z(1,0)}}function Ti(e,t,n,o,s,a,d,f,p,v,A){var B=ee();try{te(e)(t,n,o,s,a,d,f,p,v,A)}catch(x){if(Q(B),!(x instanceof U))throw x;Z(1,0)}}function $i(e,t,n,o,s,a,d,f,p,v,A,B,x,P,H,z){var re=ee();try{te(e)(t,n,o,s,a,d,f,p,v,A,B,x,P,H,z)}catch(ne){if(Q(re),!(ne instanceof U))throw ne;Z(1,0)}}var Xr;function Ii(){Ur(),oe()}function ki(){Ii(),Bn();function e(){F(!Xr),Xr=!0,i.calledRun=!0,!Y&&(wn(),L?.(i),i.onRuntimeInitialized?.(),ke("onRuntimeInitialized"),F(!i._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Sn())}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),e()},1)):e(),Fe()}var Xe;Xe=await On(),ki(),ft?u=i:u=new Promise((e,t)=>{L=e,Le=t});for(const e of Object.keys(i))e in r||Object.defineProperty(r,e,{configurable:!0,get(){le(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return u}const lt=await Mi();lt.ComputerWord;lt.Register2;const sn=lt.Computer,Ni=lt.Parser,en=lt.ParsedType;sn.prototype.loadCodes=function(r,u=!0){this._loadCodes(r,u)};let Ee={},tr=[];function Ui(){if(Object.keys(Ee).length===0){Ee={magnetic_tape:0,disk:8,drum:8,card_reader:16,card_punch:17,line_printer:18,typewriter:19,paper_tape:20};for(let r=0;r<=20;++r)r<=8&&(Ee[`magnetic_tape_${r}`]=r,Ee[`disk_${8+r}`]=8+r,Ee[`drum_${8+r}`]=8+r),Ee[`device_${r}`]=r;for(const r of Object.keys(Ee))Ee[r.replaceAll("_","-")]=Ee[r];tr=["memory",...Object.keys(Ee)]}}function Wi(r,u){const i=["device_16","device_18","device_19","card_reader","line_printer","typewriter","device-16","device-18","device-19","card-reader","line-printer"],c=["device_18","line_printer","device-18","line-printer"],D=new sn;D.loadCodes(r),Ui();for(let m of["A","X"])if(m in u){const _=D[`register${m}`](),C=u[m];typeof C=="number"?_.set(C):typeof C=="string"?_.setCharacters(C):Object.prototype.toString.call(C)==="[object Array]"&&(C.length===6?_.setBytes(C[0],C[1],C[2],C[3],C[4],C[5]):C.length===5&&_.setMergedBytes(C[0],C[1],C[2],C[3],C[4]))}for(let m of["J","I1","I2","I3","I4","I5","I6"])if(m in u){const _=D[`register${m}`](),C=u[m];typeof C=="number"?_.set(C):Object.prototype.toString.call(C)==="[object Array]"&&C.length===3&&_.setBytes(C[0],C[1],C[2])}for(const m of tr)if(m in u){const _=C=>m==="memory"?D.memoryAt(C):D.getDeviceWordAt(Ee[m],C);Object.prototype.toString.call(u[m])!=="[object Array]"&&(u[m]=[u[m]]);for(const C of u[m]){const b=C.offset??0;let $=C.values??[];if($.length!==0){if(typeof $[0]=="number")for(const[k,V]of $.entries())_(b+k).set(V);else if(typeof $=="string"||typeof $[0]=="string"){Object.prototype.toString.call($)==="[object Array]"&&($=$.join(""));for(let k=0;k<$.length;k+=5){let V=$.substring(k,k+5);V.length<5&&(V+=" ".repeat(5-V.length)),_(b+Math.floor(k/5)).setCharacters(V)}}else if(Object.prototype.toString.call($[0])==="[object Array]")for(const[k,V]of $.entries())V.length===6?_(b+k).setBytes(V[0],V[1],V[2],V[3],V[4],V[5]):_(b+k).setMergedBytes(V[0],V[1],V[2],V[3],V[4])}}}D.executeUntilHaltOrSelfLoop();let g={"program-counter":D.line(),"execution-time":D.elapsed()};for(const m of["A","X"]){const _=D[`register${m}`]();g[m]={int:_.value(),float:_.floatValue(),bytes:_.getBytesString(),text:_.getCharacters()}}for(const m of["J","I1","I2","I3","I4","I5","I6"]){const _=D[`register${m}`]();g[m]={int:_.value(),bytes:_.getBytesString()}}const h=u.outputs;if(h){for(const m of tr)if(m in h){let _=!1;Object.prototype.toString.call(h[m])!=="[object Array]"&&(_=!0,h[m]=[h[m]]);const C=b=>m==="memory"?D.memoryAt(b):D.getDeviceWordAt(Ee[m],b);g[m]=[];for(const b of h[m]){const $=b.offset??0,k=b.length??1,V=typeof b.length>"u",ce=b.type??(i.includes(m)?"text":"int"),S={offset:$,type:ce};if(ce==="int"){S.values=[];for(let T=0;T<k;++T)S.values.push(C($+T).value())}else if(ce==="text"){S.values="";const T=b["auto-wrap"]??!1;for(let w=0;w<k;++w)T&&w!==0&&w%16===0&&c.includes(m)&&(S.values+=`
`),S.values+=C($+w).getCharacters();T&&c.includes(m)&&S.values.includes(`
`)&&(S.values=S.values.split(`
`))}else if(ce==="bytes"){S.values=[];for(let T=0;T<k;++T)S.values.push(C($+T).getBytesString())}else if(ce==="float"){S.values=[];for(let T=0;T<k;++T)S.values.push(C($+T).floatValue())}V&&(S.value=S.values[0],delete S.values),g[m].push(S)}_&&(g[m]=g[m][0])}}return g}const de=document.querySelector("#mixal-editor"),an=document.querySelector("#mixal-editor-highlighted"),cn=document.querySelector("#mixal-editor-line-numbers"),ue=document.querySelector("#io-spec-editor"),ln=document.querySelector("#io-spec-highlighted"),dn=document.querySelector("#io-spec-line-numbers"),Ze=document.querySelector("#results-editor"),fn=document.querySelector("#results-highlighted"),Dn=document.querySelector("#results-line-numbers"),Vi=new Set(["EQU","ORIG","CON","ALF","END"]);function Ye(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function ji(r){try{const u=Ni.parseLine(r,"",!0);if(u.parsedType.value===en.EMPTY.value&&u.commentSpan.start>=0)return`<span class="text-gray-500 dark:text-gray-400 italic">${Ye(r)}</span>`;if(u.parsedType.value===en.EMPTY.value)return Ye(r);const i=[];if(u.locationSpan.start>=0&&i.push({start:u.locationSpan.start,end:u.locationSpan.end,cls:"text-purple-700 dark:text-purple-400"}),u.operationSpan.start>=0){const g=Vi.has(u.operation);i.push({start:u.operationSpan.start,end:u.operationSpan.end,cls:g?"text-blue-600 dark:text-blue-400 font-bold":"text-blue-700 dark:text-blue-500 font-bold"})}u.addressSpan.start>=0&&i.push({start:u.addressSpan.start,end:u.addressSpan.end,cls:"text-green-700 dark:text-green-400"}),u.indexSpan.start>=0&&i.push({start:u.indexSpan.start,end:u.indexSpan.end,cls:"text-yellow-700 dark:text-yellow-400"}),u.fieldSpan.start>=0&&i.push({start:u.fieldSpan.start,end:u.fieldSpan.end,cls:"text-orange-600 dark:text-orange-400"}),u.commentSpan.start>=0&&i.push({start:u.commentSpan.start,end:u.commentSpan.end,cls:"text-gray-500 dark:text-gray-400 italic"}),i.sort((g,h)=>g.start-h.start);let c="",D=0;for(const g of i){D<g.start&&(c+=Ye(r.substring(D,g.start)));const h=Ye(r.substring(g.start,g.end));c+=`<span class="${g.cls}">${h}</span>`,D=g.end}return D<r.length&&(c+=Ye(r.substring(D))),c}catch{return Ye(r)}}function Hi(r){return r.split(`
`).map(ji).join(`
`)}function pn(r,u){const i=r.value.split(`
`).length;let c="";for(let D=1;D<=i;D++)c+=D+`
`;u.textContent=c+`
`}function qi(){an.innerHTML=Hi(de.value)+`

`,pn(de,cn)}de.addEventListener("input",()=>{qi()});de.addEventListener("scroll",()=>{const r=an.parentElement;r.scrollTop=de.scrollTop,r.scrollLeft=de.scrollLeft,cn.scrollTop=de.scrollTop});de.addEventListener("keydown",r=>{const u=de.selectionStart,i=de.selectionEnd,c=de.value;if(r.key=="Enter"){r.preventDefault();const D=c.slice(0,u),g=c.slice(i),h=D.lastIndexOf(`
`)+1,_=D.slice(h).match(/^\S*(?:\s+)?/),C=_?_[0]:"",b=`
`+" ".repeat(C.length);de.value=D+b+g,de.selectionStart=de.selectionEnd=u+b.length,de.dispatchEvent(new Event("input"))}});function zi(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"(?:\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g,i=>{let c="font-bold ";return/^"/.test(i)?c+=/:$/.test(i)?"text-blue-800 dark:text-blue-400":"text-green-700 dark:text-green-400":/true|false/.test(i)?c+="text-purple-800 dark:text-purple-400":/null/.test(i)?c+="text-gray-500 dark:text-gray-400":c+="text-yellow-600 dark:text-yellow-500",`<span class="${c}">${i}</span>`})}function gn(r,u,i){u.innerHTML=zi(r.value)+`

`,pn(r,i)}ue.addEventListener("input",()=>{gn(ue,ln,dn)});ue.addEventListener("scroll",()=>{const r=ln.parentElement;r.scrollTop=ue.scrollTop,r.scrollLeft=ue.scrollLeft,dn.scrollTop=ue.scrollTop});function Xt(r,u){r.focus(),document.execCommand("insertText",!1,u)}function Yt(r,u,i,c){r.focus(),r.select(),document.execCommand("insertText",!1,u),r.selectionStart=i,r.selectionEnd=c}ue.addEventListener("keydown",r=>{const u=ue.selectionStart,i=ue.selectionEnd,c=ue.value;if(r.key=="Enter"){r.preventDefault();const D=c.slice(0,u),g=D.lastIndexOf(`
`)+1,h=D.slice(g),m=h.match(/^\s*/),_=m?m[0]:"",$=`
`+(h.trim().endsWith("{")||h.trim().endsWith("[")?_+"  ":_);Xt(ue,$),ue.dispatchEvent(new Event("input"))}else if(r.key=="Tab"){r.preventDefault();const D=c.slice(0,u),g=c.slice(u,i),h=c.slice(i);if(g.includes(`
`)){const m=D.lastIndexOf(`
`)+1,_=i+(h.indexOf(`
`)===-1?h.length:h.indexOf(`
`)),C=c.slice(m,_);let b,$,k;if(r.shiftKey){b=C.replace(/^( {1,2})/gm,"");const ce=C.match(/^( {1,2})/)?C.match(/^( {1,2})/)[1].length:0;$=Math.max(m,u-ce),k=m+b.length-(h.indexOf(`
`)===-1?h.length:h.indexOf(`
`))}else b=C.replace(/^/gm,"  "),$=u+2,k=m+b.length-(h.indexOf(`
`)===-1?h.length:h.indexOf(`
`));const V=c.slice(0,m)+b+c.slice(_);Yt(ue,V,$,k)}else if(r.shiftKey){if(D.endsWith("  ")){const m=D.slice(0,-2)+g+h;Yt(ue,m,u-2,i-2)}else if(D.endsWith(" ")){const m=D.slice(0,-1)+g+h;Yt(ue,m,u-1,i-1)}}else Xt(ue,"  ");ue.dispatchEvent(new Event("input"))}else if(r.key=="{"||r.key=="["){r.preventDefault();const D=c.slice(0,u),g=D.lastIndexOf(`
`)+1,m=D.slice(g).match(/^\s*/),_=m?m[0]:"",C=r.key==="{"?"{}":"[]",b=C[0]+`
`+_+`  
`+_+C[1];Xt(ue,b),ue.selectionStart=ue.selectionEnd=u+_.length+4,ue.dispatchEvent(new Event("input"))}});Ze.addEventListener("input",()=>{gn(Ze,fn,Dn)});Ze.addEventListener("scroll",()=>{const r=fn.parentElement;r.scrollTop=Ze.scrollTop,r.scrollLeft=Ze.scrollLeft,Dn.scrollTop=Ze.scrollTop});var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zt={},rn;function Gi(){return rn||(rn=1,(function(r){(function(u){var i=typeof globalThis<"u"&&globalThis||typeof r<"u"&&r||typeof tn<"u"&&tn||{},c={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function D(l){return l&&DataView.prototype.isPrototypeOf(l)}if(c.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(l){return l&&g.indexOf(Object.prototype.toString.call(l))>-1};function m(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(l)||l==="")throw new TypeError('Invalid character in header field name: "'+l+'"');return l.toLowerCase()}function _(l){return typeof l!="string"&&(l=String(l)),l}function C(l){var E={next:function(){var O=l.shift();return{done:O===void 0,value:O}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function b(l){this.map={},l instanceof b?l.forEach(function(E,O){this.append(O,E)},this):Array.isArray(l)?l.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(E){this.append(E,l[E])},this)}b.prototype.append=function(l,E){l=m(l),E=_(E);var O=this.map[l];this.map[l]=O?O+", "+E:E},b.prototype.delete=function(l){delete this.map[m(l)]},b.prototype.get=function(l){return l=m(l),this.has(l)?this.map[l]:null},b.prototype.has=function(l){return this.map.hasOwnProperty(m(l))},b.prototype.set=function(l,E){this.map[m(l)]=_(E)},b.prototype.forEach=function(l,E){for(var O in this.map)this.map.hasOwnProperty(O)&&l.call(E,this.map[O],O,this)},b.prototype.keys=function(){var l=[];return this.forEach(function(E,O){l.push(O)}),C(l)},b.prototype.values=function(){var l=[];return this.forEach(function(E){l.push(E)}),C(l)},b.prototype.entries=function(){var l=[];return this.forEach(function(E,O){l.push([O,E])}),C(l)},c.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function $(l){if(!l._noBody){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}}function k(l){return new Promise(function(E,O){l.onload=function(){E(l.result)},l.onerror=function(){O(l.error)}})}function V(l){var E=new FileReader,O=k(E);return E.readAsArrayBuffer(l),O}function ce(l){var E=new FileReader,O=k(E),q=/charset=([A-Za-z0-9_-]+)/.exec(l.type),G=q?q[1]:"utf-8";return E.readAsText(l,G),O}function S(l){for(var E=new Uint8Array(l),O=new Array(E.length),q=0;q<E.length;q++)O[q]=String.fromCharCode(E[q]);return O.join("")}function T(l){if(l.slice)return l.slice(0);var E=new Uint8Array(l.byteLength);return E.set(new Uint8Array(l)),E.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(l){this.bodyUsed=this.bodyUsed,this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:c.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:c.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():c.arrayBuffer&&c.blob&&D(l)?(this._bodyArrayBuffer=T(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||h(l))?this._bodyArrayBuffer=T(l):this._bodyText=l=Object.prototype.toString.call(l):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var l=$(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var l=$(this);return l||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(V);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var l=$(this);if(l)return l;if(this._bodyBlob)return ce(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(oe)}),this.json=function(){return this.text().then(JSON.parse)},this}var Y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function F(l){var E=l.toUpperCase();return Y.indexOf(E)>-1?E:l}function N(l,E){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var O=E.body;if(l instanceof N){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,E.headers||(this.headers=new b(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!O&&l._bodyInit!=null&&(O=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new b(E.headers)),this.method=F(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||(function(){if("AbortController"in i){var L=new AbortController;return L.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function oe(l){var E=new FormData;return l.trim().split("&").forEach(function(O){if(O){var q=O.split("="),G=q.shift().replace(/\+/g," "),L=q.join("=").replace(/\+/g," ");E.append(decodeURIComponent(G),decodeURIComponent(L))}}),E}function Fe(l){var E=new b,O=l.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var G=q.split(":"),L=G.shift().trim();if(L){var Le=G.join(":").trim();try{E.append(L,Le)}catch(pe){console.warn("Response "+pe.message)}}}),E}w.call(N.prototype);function U(l,E){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new b(E.headers),this.url=E.url||"",this._initBody(l)}w.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},U.error=function(){var l=new U(null,{status:200,statusText:""});return l.ok=!1,l.status=0,l.type="error",l};var Ve=[301,302,303,307,308];U.redirect=function(l,E){if(Ve.indexOf(E)===-1)throw new RangeError("Invalid status code");return new U(null,{status:E,headers:{location:l}})},u.DOMException=i.DOMException;try{new u.DOMException}catch{u.DOMException=function(E,O){this.message=E,this.name=O;var q=Error(E);this.stack=q.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function ke(l,E){return new Promise(function(O,q){var G=new N(l,E);if(G.signal&&G.signal.aborted)return q(new u.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function Le(){L.abort()}L.onload=function(){var K={statusText:L.statusText,headers:Fe(L.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(L.status<200||L.status>599)?K.status=200:K.status=L.status,K.url="responseURL"in L?L.responseURL:K.headers.get("X-Request-URL");var De="response"in L?L.response:L.responseText;setTimeout(function(){O(new U(De,K))},0)},L.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){q(new u.DOMException("Aborted","AbortError"))},0)};function pe(K){try{return K===""&&i.location.href?i.location.href:K}catch{return K}}if(L.open(G.method,pe(G.url),!0),G.credentials==="include"?L.withCredentials=!0:G.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(c.blob?L.responseType="blob":c.arrayBuffer&&(L.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof b||i.Headers&&E.headers instanceof i.Headers)){var ge=[];Object.getOwnPropertyNames(E.headers).forEach(function(K){ge.push(m(K)),L.setRequestHeader(K,_(E.headers[K]))}),G.headers.forEach(function(K,De){ge.indexOf(De)===-1&&L.setRequestHeader(De,K)})}else G.headers.forEach(function(K,De){L.setRequestHeader(De,K)});G.signal&&(G.signal.addEventListener("abort",Le),L.onreadystatechange=function(){L.readyState===4&&G.signal.removeEventListener("abort",Le)}),L.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return ke.polyfill=!0,i.fetch||(i.fetch=ke,i.Headers=b,i.Request=N,i.Response=U),u.Headers=b,u.Request=N,u.Response=U,u.fetch=ke,u})({})})(typeof self<"u"?self:Zt)),Zt}Gi();const it=document.querySelector("#mixal-editor"),ot=document.querySelector("#io-spec-editor");async function Ji(){const r=window.location.search,u=new URLSearchParams(r);if(u.has("example")){const c=u.get("example"),D=await fetch(`/MIXAL/examples/${c}.mix`);D.ok&&(it.value=await D.text(),it.dispatchEvent(new Event("input")));const g=await fetch(`/MIXAL/examples/${c}.json`);if(g.ok&&(ot.value=await g.text(),ot.dispatchEvent(new Event("input"))),D.ok&&g.ok)return}const i=window.location.hash.replace(/^#/,"");if(i.length!=0){const c=JSON.parse(decodeURIComponent(Array.from(atob(i)).map(D=>`%${D.charCodeAt(0).toString(16).padStart(2,"0")}`).join("")));it.value=c.code,it.dispatchEvent(new Event("input")),ot.value=c.io,ot.dispatchEvent(new Event("input"))}}function Xi(r){const u=new URL(r);return u.search="",u.toString()}function Yi(){const r={code:it.value,io:ot.value},u=btoa(encodeURIComponent(JSON.stringify(r)).replace(/%([0-9A-F]{2})/g,(i,c)=>String.fromCharCode(parseInt(c,16))));window.history.replaceState(null,"",Xi(window.location.href)),window.location.hash=`#${u}`}var Zi=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ki=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Qi=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Kt={Space_Separator:Zi,ID_Start:Ki,ID_Continue:Qi},ie={isSpaceSeparator(r){return typeof r=="string"&&Kt.Space_Separator.test(r)},isIdStartChar(r){return typeof r=="string"&&(r>="a"&&r<="z"||r>="A"&&r<="Z"||r==="$"||r==="_"||Kt.ID_Start.test(r))},isIdContinueChar(r){return typeof r=="string"&&(r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9"||r==="$"||r==="_"||r===""||r===""||Kt.ID_Continue.test(r))},isDigit(r){return typeof r=="string"&&/[0-9]/.test(r)},isHexDigit(r){return typeof r=="string"&&/[0-9A-Fa-f]/.test(r)}};let rr,fe,$e,wt,Oe,_e,ae,cr,at;var eo=function(u,i){rr=String(u),fe="start",$e=[],wt=0,Oe=1,_e=0,ae=void 0,cr=void 0,at=void 0;do ae=to(),uo[fe]();while(ae.type!=="eof");return typeof i=="function"?nr({"":at},"",i):at};function nr(r,u,i){const c=r[u];if(c!=null&&typeof c=="object")if(Array.isArray(c))for(let D=0;D<c.length;D++){const g=String(D),h=nr(c,g,i);h===void 0?delete c[g]:Object.defineProperty(c,g,{value:h,writable:!0,enumerable:!0,configurable:!0})}else for(const D in c){const g=nr(c,D,i);g===void 0?delete c[D]:Object.defineProperty(c,D,{value:g,writable:!0,enumerable:!0,configurable:!0})}return i.call(r,u,c)}let R,I,st,Te,M;function to(){for(R="default",I="",st=!1,Te=1;;){M=Ie();const r=yn[R]();if(r)return r}}function Ie(){if(rr[wt])return String.fromCodePoint(rr.codePointAt(wt))}function y(){const r=Ie();return r===`
`?(Oe++,_e=0):r?_e+=r.length:_e++,r&&(wt+=r.length),r}const yn={default(){switch(M){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":y();return;case"/":y(),R="comment";return;case void 0:return y(),J("eof")}if(ie.isSpaceSeparator(M)){y();return}return yn[fe]()},comment(){switch(M){case"*":y(),R="multiLineComment";return;case"/":y(),R="singleLineComment";return}throw X(y())},multiLineComment(){switch(M){case"*":y(),R="multiLineCommentAsterisk";return;case void 0:throw X(y())}y()},multiLineCommentAsterisk(){switch(M){case"*":y();return;case"/":y(),R="default";return;case void 0:throw X(y())}y(),R="multiLineComment"},singleLineComment(){switch(M){case`
`:case"\r":case"\u2028":case"\u2029":y(),R="default";return;case void 0:return y(),J("eof")}y()},value(){switch(M){case"{":case"[":return J("punctuator",y());case"n":return y(),Ue("ull"),J("null",null);case"t":return y(),Ue("rue"),J("boolean",!0);case"f":return y(),Ue("alse"),J("boolean",!1);case"-":case"+":y()==="-"&&(Te=-1),R="sign";return;case".":I=y(),R="decimalPointLeading";return;case"0":I=y(),R="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":I=y(),R="decimalInteger";return;case"I":return y(),Ue("nfinity"),J("numeric",1/0);case"N":return y(),Ue("aN"),J("numeric",NaN);case'"':case"'":st=y()==='"',I="",R="string";return}throw X(y())},identifierNameStartEscape(){if(M!=="u")throw X(y());y();const r=ur();switch(r){case"$":case"_":break;default:if(!ie.isIdStartChar(r))throw nn();break}I+=r,R="identifierName"},identifierName(){switch(M){case"$":case"_":case"":case"":I+=y();return;case"\\":y(),R="identifierNameEscape";return}if(ie.isIdContinueChar(M)){I+=y();return}return J("identifier",I)},identifierNameEscape(){if(M!=="u")throw X(y());y();const r=ur();switch(r){case"$":case"_":case"":case"":break;default:if(!ie.isIdContinueChar(r))throw nn();break}I+=r,R="identifierName"},sign(){switch(M){case".":I=y(),R="decimalPointLeading";return;case"0":I=y(),R="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":I=y(),R="decimalInteger";return;case"I":return y(),Ue("nfinity"),J("numeric",Te*(1/0));case"N":return y(),Ue("aN"),J("numeric",NaN)}throw X(y())},zero(){switch(M){case".":I+=y(),R="decimalPoint";return;case"e":case"E":I+=y(),R="decimalExponent";return;case"x":case"X":I+=y(),R="hexadecimal";return}return J("numeric",Te*0)},decimalInteger(){switch(M){case".":I+=y(),R="decimalPoint";return;case"e":case"E":I+=y(),R="decimalExponent";return}if(ie.isDigit(M)){I+=y();return}return J("numeric",Te*Number(I))},decimalPointLeading(){if(ie.isDigit(M)){I+=y(),R="decimalFraction";return}throw X(y())},decimalPoint(){switch(M){case"e":case"E":I+=y(),R="decimalExponent";return}if(ie.isDigit(M)){I+=y(),R="decimalFraction";return}return J("numeric",Te*Number(I))},decimalFraction(){switch(M){case"e":case"E":I+=y(),R="decimalExponent";return}if(ie.isDigit(M)){I+=y();return}return J("numeric",Te*Number(I))},decimalExponent(){switch(M){case"+":case"-":I+=y(),R="decimalExponentSign";return}if(ie.isDigit(M)){I+=y(),R="decimalExponentInteger";return}throw X(y())},decimalExponentSign(){if(ie.isDigit(M)){I+=y(),R="decimalExponentInteger";return}throw X(y())},decimalExponentInteger(){if(ie.isDigit(M)){I+=y();return}return J("numeric",Te*Number(I))},hexadecimal(){if(ie.isHexDigit(M)){I+=y(),R="hexadecimalInteger";return}throw X(y())},hexadecimalInteger(){if(ie.isHexDigit(M)){I+=y();return}return J("numeric",Te*Number(I))},string(){switch(M){case"\\":y(),I+=ro();return;case'"':if(st)return y(),J("string",I);I+=y();return;case"'":if(!st)return y(),J("string",I);I+=y();return;case`
`:case"\r":throw X(y());case"\u2028":case"\u2029":io(M);break;case void 0:throw X(y())}I+=y()},start(){switch(M){case"{":case"[":return J("punctuator",y())}R="value"},beforePropertyName(){switch(M){case"$":case"_":I=y(),R="identifierName";return;case"\\":y(),R="identifierNameStartEscape";return;case"}":return J("punctuator",y());case'"':case"'":st=y()==='"',R="string";return}if(ie.isIdStartChar(M)){I+=y(),R="identifierName";return}throw X(y())},afterPropertyName(){if(M===":")return J("punctuator",y());throw X(y())},beforePropertyValue(){R="value"},afterPropertyValue(){switch(M){case",":case"}":return J("punctuator",y())}throw X(y())},beforeArrayValue(){if(M==="]")return J("punctuator",y());R="value"},afterArrayValue(){switch(M){case",":case"]":return J("punctuator",y())}throw X(y())},end(){throw X(y())}};function J(r,u){return{type:r,value:u,line:Oe,column:_e}}function Ue(r){for(const u of r){if(Ie()!==u)throw X(y());y()}}function ro(){switch(Ie()){case"b":return y(),"\b";case"f":return y(),"\f";case"n":return y(),`
`;case"r":return y(),"\r";case"t":return y(),"	";case"v":return y(),"\v";case"0":if(y(),ie.isDigit(Ie()))throw X(y());return"\0";case"x":return y(),no();case"u":return y(),ur();case`
`:case"\u2028":case"\u2029":return y(),"";case"\r":return y(),Ie()===`
`&&y(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw X(y());case void 0:throw X(y())}return y()}function no(){let r="",u=Ie();if(!ie.isHexDigit(u)||(r+=y(),u=Ie(),!ie.isHexDigit(u)))throw X(y());return r+=y(),String.fromCodePoint(parseInt(r,16))}function ur(){let r="",u=4;for(;u-- >0;){const i=Ie();if(!ie.isHexDigit(i))throw X(y());r+=y()}return String.fromCodePoint(parseInt(r,16))}const uo={start(){if(ae.type==="eof")throw We();Qt()},beforePropertyName(){switch(ae.type){case"identifier":case"string":cr=ae.value,fe="afterPropertyName";return;case"punctuator":bt();return;case"eof":throw We()}},afterPropertyName(){if(ae.type==="eof")throw We();fe="beforePropertyValue"},beforePropertyValue(){if(ae.type==="eof")throw We();Qt()},beforeArrayValue(){if(ae.type==="eof")throw We();if(ae.type==="punctuator"&&ae.value==="]"){bt();return}Qt()},afterPropertyValue(){if(ae.type==="eof")throw We();switch(ae.value){case",":fe="beforePropertyName";return;case"}":bt()}},afterArrayValue(){if(ae.type==="eof")throw We();switch(ae.value){case",":fe="beforeArrayValue";return;case"]":bt()}},end(){}};function Qt(){let r;switch(ae.type){case"punctuator":switch(ae.value){case"{":r={};break;case"[":r=[];break}break;case"null":case"boolean":case"numeric":case"string":r=ae.value;break}if(at===void 0)at=r;else{const u=$e[$e.length-1];Array.isArray(u)?u.push(r):Object.defineProperty(u,cr,{value:r,writable:!0,enumerable:!0,configurable:!0})}if(r!==null&&typeof r=="object")$e.push(r),Array.isArray(r)?fe="beforeArrayValue":fe="beforePropertyName";else{const u=$e[$e.length-1];u==null?fe="end":Array.isArray(u)?fe="afterArrayValue":fe="afterPropertyValue"}}function bt(){$e.pop();const r=$e[$e.length-1];r==null?fe="end":Array.isArray(r)?fe="afterArrayValue":fe="afterPropertyValue"}function X(r){return St(r===void 0?`JSON5: invalid end of input at ${Oe}:${_e}`:`JSON5: invalid character '${mn(r)}' at ${Oe}:${_e}`)}function We(){return St(`JSON5: invalid end of input at ${Oe}:${_e}`)}function nn(){return _e-=5,St(`JSON5: invalid identifier character at ${Oe}:${_e}`)}function io(r){console.warn(`JSON5: '${mn(r)}' in strings is not valid ECMAScript; consider escaping`)}function mn(r){const u={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(u[r])return u[r];if(r<" "){const i=r.charCodeAt(0).toString(16);return"\\x"+("00"+i).substring(i.length)}return r}function St(r){const u=new SyntaxError(r);return u.lineNumber=Oe,u.columnNumber=_e,u}var oo=function(u,i,c){const D=[];let g="",h,m,_="",C;if(i!=null&&typeof i=="object"&&!Array.isArray(i)&&(c=i.space,C=i.quote,i=i.replacer),typeof i=="function")m=i;else if(Array.isArray(i)){h=[];for(const S of i){let T;typeof S=="string"?T=S:(typeof S=="number"||S instanceof String||S instanceof Number)&&(T=String(S)),T!==void 0&&h.indexOf(T)<0&&h.push(T)}}return c instanceof Number?c=Number(c):c instanceof String&&(c=String(c)),typeof c=="number"?c>0&&(c=Math.min(10,Math.floor(c)),_="          ".substr(0,c)):typeof c=="string"&&(_=c.substr(0,10)),b("",{"":u});function b(S,T){let w=T[S];switch(w!=null&&(typeof w.toJSON5=="function"?w=w.toJSON5(S):typeof w.toJSON=="function"&&(w=w.toJSON(S))),m&&(w=m.call(T,S,w)),w instanceof Number?w=Number(w):w instanceof String?w=String(w):w instanceof Boolean&&(w=w.valueOf()),w){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof w=="string")return $(w);if(typeof w=="number")return String(w);if(typeof w=="object")return Array.isArray(w)?ce(w):k(w)}function $(S){const T={"'":.1,'"':.2},w={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let Y="";for(let N=0;N<S.length;N++){const oe=S[N];switch(oe){case"'":case'"':T[oe]++,Y+=oe;continue;case"\0":if(ie.isDigit(S[N+1])){Y+="\\x00";continue}}if(w[oe]){Y+=w[oe];continue}if(oe<" "){let Fe=oe.charCodeAt(0).toString(16);Y+="\\x"+("00"+Fe).substring(Fe.length);continue}Y+=oe}const F=C||Object.keys(T).reduce((N,oe)=>T[N]<T[oe]?N:oe);return Y=Y.replace(new RegExp(F,"g"),w[F]),F+Y+F}function k(S){if(D.indexOf(S)>=0)throw TypeError("Converting circular structure to JSON5");D.push(S);let T=g;g=g+_;let w=h||Object.keys(S),Y=[];for(const N of w){const oe=b(N,S);if(oe!==void 0){let Fe=V(N)+":";_!==""&&(Fe+=" "),Fe+=oe,Y.push(Fe)}}let F;if(Y.length===0)F="{}";else{let N;if(_==="")N=Y.join(","),F="{"+N+"}";else{let oe=`,
`+g;N=Y.join(oe),F=`{
`+g+N+`,
`+T+"}"}}return D.pop(),g=T,F}function V(S){if(S.length===0)return $(S);const T=String.fromCodePoint(S.codePointAt(0));if(!ie.isIdStartChar(T))return $(S);for(let w=T.length;w<S.length;w++)if(!ie.isIdContinueChar(String.fromCodePoint(S.codePointAt(w))))return $(S);return S}function ce(S){if(D.indexOf(S)>=0)throw TypeError("Converting circular structure to JSON5");D.push(S);let T=g;g=g+_;let w=[];for(let F=0;F<S.length;F++){const N=b(String(F),S);w.push(N!==void 0?N:"null")}let Y;if(w.length===0)Y="[]";else if(_==="")Y="["+w.join(",")+"]";else{let F=`,
`+g,N=w.join(F);Y=`[
`+g+N+`,
`+T+"]"}return D.pop(),g=T,Y}};const so={parse:eo,stringify:oo};var dt=so;const ir=document.querySelector("#io-spec-editor"),hn=document.querySelector("#results-editor");function or(){return{type:"int",intValue:"0",sign:"+",bytes:["0","0","0","0","0"],addr:"0",mergedBytes:["0","0","0"]}}function Pe(){return{type:"int",intValue:"0",sign:"+",bytes:["0","0"]}}function Fn(){return{A:or(),X:or(),I1:Pe(),I2:Pe(),I3:Pe(),I4:Pe(),I5:Pe(),I6:Pe(),J:Pe()}}function En(){try{return dt.parse(ir.value)||{}}catch{return{}}}function ao(r){const u=or();return typeof r=="number"?(u.type="int",u.intValue=String(r)):typeof r=="string"?(u.type="text",u.intValue=r):Array.isArray(r)&&(r.length===6?(u.type="bytes",u.sign=r[0]==="-"?"-":"+",u.bytes=r.slice(1).map(String)):r.length===5&&(u.type="merged-bytes",u.sign=r[0]==="-"?"-":"+",u.addr=String(r[1]),u.mergedBytes=r.slice(2).map(String))),u}function co(r){const u=Pe();return typeof r=="number"?(u.type="int",u.intValue=String(r)):Array.isArray(r)&&r.length===3&&(u.type="bytes",u.sign=r[0]==="-"?"-":"+",u.bytes=r.slice(1).map(String)),u}function lo(){const r=Fn(),u=En();for(const i of["A","X"])i in u&&(r[i]=ao(u[i]));for(const i of["I1","I2","I3","I4","I5","I6","J"])i in u&&(r[i]=co(u[i]));return r}function fo(r){if(r.type==="int"){const u=parseInt(r.intValue,10);return isNaN(u)?0:u}if(r.type==="text")return r.intValue;if(r.type==="bytes")return[r.sign,...r.bytes.map(u=>{const i=parseInt(u,10);return isNaN(i)?0:i})];if(r.type==="merged-bytes"){const u=parseInt(r.addr,10);return[r.sign,isNaN(u)?0:u,...r.mergedBytes.map(i=>{const c=parseInt(i,10);return isNaN(c)?0:c})]}return 0}function Do(r){if(r.type==="int"){const u=parseInt(r.intValue,10);return isNaN(u)?0:u}return r.type==="bytes"?[r.sign,...r.bytes.map(u=>{const i=parseInt(u,10);return isNaN(i)?0:i})]:0}function po(r){if(r.type==="int")return parseInt(r.intValue,10)===0||r.intValue.trim()==="";if(r.type==="text")return r.intValue.trim()===""||r.intValue==="     ";if(r.type==="bytes")return r.bytes.every(u=>parseInt(u,10)===0||u.trim()==="");if(r.type==="merged-bytes"){const u=parseInt(r.addr,10)===0||r.addr.trim()==="",i=r.mergedBytes.every(c=>parseInt(c,10)===0||c.trim()==="");return u&&i}return!0}function go(r){return r.type==="int"?parseInt(r.intValue,10)===0||r.intValue.trim()==="":r.type==="bytes"?r.bytes.every(u=>parseInt(u,10)===0||u.trim()===""):!0}function yo(r){const u=En();for(const i of["A","X"]){const c=r[i];po(c)?delete u[i]:u[i]=fo(c)}for(const i of["I1","I2","I3","I4","I5","I6","J"]){const c=r[i];go(c)?delete u[i]:u[i]=Do(c)}ir.value=JSON.stringify(u,null,2),ir.dispatchEvent(new Event("input",{bubbles:!0}))}function mo(){try{const r=dt.parse(hn.value)||{},u={};for(const i of["A","X","I1","I2","I3","I4","I5","I6","J"])i in r&&(u[i]=r[i]);return u}catch{return{}}}function vn(r,u){const i=document.getElementById(`reg-${r}-input-int`),c=document.getElementById(`reg-${r}-input-text`),D=document.getElementById(`reg-${r}-input-bytes`),g=document.getElementById(`reg-${r}-input-merged`);i.classList.add("hidden"),c.classList.add("hidden"),D.classList.add("hidden"),g.classList.add("hidden"),u==="int"?i.classList.remove("hidden"):u==="text"?c.classList.remove("hidden"):u==="bytes"?D.classList.remove("hidden"):u==="merged-bytes"&&g.classList.remove("hidden")}function Cn(r,u){const i=document.getElementById(`reg-${r}-input-int`),c=document.getElementById(`reg-${r}-input-bytes`);i.classList.add("hidden"),c.classList.add("hidden"),u==="int"?i.classList.remove("hidden"):u==="bytes"&&c.classList.remove("hidden")}function ho(r){const u=document.getElementById(`reg-${r}-type`),i=document.getElementById(`reg-${r}-value`),c=document.getElementById(`reg-${r}-text`),D=document.getElementById(`reg-${r}-sign`),g=document.getElementById(`reg-${r}-sign-m`),h=document.getElementById(`reg-${r}-addr`),m=u.value;return{type:m,intValue:m==="text"?c.value:i.value,sign:m==="merged-bytes"?g.value:D.value,bytes:[1,2,3,4,5].map(C=>document.getElementById(`reg-${r}-b${C}`).value),addr:h.value,mergedBytes:[3,4,5].map(C=>document.getElementById(`reg-${r}-b${C}m`).value)}}function Fo(r){const u=document.getElementById(`reg-${r}-type`),i=document.getElementById(`reg-${r}-value`),c=document.getElementById(`reg-${r}-sign`);return{type:u.value,intValue:i.value,sign:c.value,bytes:[1,2].map(h=>document.getElementById(`reg-${r}-b${h}`).value)}}function Eo(r,u){const i=document.getElementById(`reg-${r}-type`),c=document.getElementById(`reg-${r}-value`),D=document.getElementById(`reg-${r}-text`),g=document.getElementById(`reg-${r}-sign`),h=document.getElementById(`reg-${r}-sign-m`),m=document.getElementById(`reg-${r}-addr`);i.value=u.type,u.type==="text"?D.value=u.intValue:c.value=u.intValue,g.value=u.sign,h.value=u.sign,m.value=u.addr;for(let _=0;_<5;_++){const C=document.getElementById(`reg-${r}-b${_+1}`);C.value=u.bytes[_]||"0"}for(let _=0;_<3;_++){const C=document.getElementById(`reg-${r}-b${_+3}m`);C.value=u.mergedBytes[_]||"0"}vn(r,u.type)}function vo(r,u){const i=document.getElementById(`reg-${r}-type`),c=document.getElementById(`reg-${r}-value`),D=document.getElementById(`reg-${r}-sign`);i.value=u.type,c.value=u.intValue,D.value=u.sign;for(let g=0;g<2;g++){const h=document.getElementById(`reg-${r}-b${g+1}`);h.value=u.bytes[g]||"0"}Cn(r,u.type)}function Co(){const r=lo();for(const u of["A","X"])Eo(u,r[u]);for(const u of["I1","I2","I3","I4","I5","I6","J"])vo(u,r[u])}function _o(){const r=Fn();for(const u of["A","X"])r[u]=ho(u);for(const u of["I1","I2","I3","I4","I5","I6","J"])r[u]=Fo(u);yo(r)}function _n(){const r=mo();for(const u of["A","X"]){const i=document.getElementById(`result-${u}-int`),c=document.getElementById(`result-${u}-float`),D=document.getElementById(`result-${u}-bytes`),g=document.getElementById(`result-${u}-text`);r[u]?(i.textContent=String(r[u].int??""),c.textContent=String(r[u].float??""),D.textContent=r[u].bytes??"",g.textContent=r[u].text??""):(i.textContent="",c.textContent="",D.textContent="",g.textContent="")}for(const u of["I1","I2","I3","I4","I5","I6","J"]){const i=document.getElementById(`result-${u}-int`),c=document.getElementById(`result-${u}-bytes`);r[u]?(i.textContent=String(r[u].int??""),c.textContent=r[u].bytes??""):(i.textContent="",c.textContent="")}}function Ao(){Co(),_n()}function bo(){_o()}function Bo(){const r=document.getElementById("panel-registers");for(const u of["A","X"]){const i=document.getElementById(`reg-${u}-type`);i.addEventListener("change",()=>{vn(u,i.value)})}for(const u of["I1","I2","I3","I4","I5","I6","J"]){const i=document.getElementById(`reg-${u}-type`);i.addEventListener("change",()=>{Cn(u,i.value)})}hn.addEventListener("input",()=>{r.classList.contains("hidden")||_n()})}const sr=document.querySelector("#io-spec-editor"),An=document.querySelector("#results-editor");let ve=[],Re=[],wo=0;function xt(){return`mem-${++wo}`}function Ke(){return{type:"int",intValue:"0",sign:"+",bytes:["0","0","0","0","0"],addr:"0",mergedBytes:["0","0","0"]}}function lr(){try{return dt.parse(sr.value)||{}}catch{return{}}}function So(r){const u=Ke();return typeof r=="number"?(u.type="int",u.intValue=String(r)):typeof r=="string"?(u.type="text",u.intValue=r):Array.isArray(r)&&(r.length===6?(u.type="bytes",u.sign=r[0]==="-"?"-":"+",u.bytes=r.slice(1).map(String)):r.length===5&&(u.type="merged-bytes",u.sign=r[0]==="-"?"-":"+",u.addr=String(r[1]),u.mergedBytes=r.slice(2).map(String))),u}function xo(){const r=lr(),u=[];if("memory"in r){let i=r.memory;Array.isArray(i)||(i=[i]);for(const c of i){const D={id:xt(),offset:String(c.offset??0),words:[]},g=c.values;if(Array.isArray(g))if(typeof g[0]=="string"&&g[0].length<=5&&g.every(h=>typeof h=="string"))for(const h of g){const m=Ke();m.type="text",m.intValue=h,D.words.push(m)}else for(const h of g)D.words.push(So(h));else if(typeof g=="string")for(let h=0;h<g.length;h+=5){const m=Ke();m.type="text",m.intValue=g.substring(h,h+5),D.words.push(m)}D.words.length===0&&D.words.push(Ke()),u.push(D)}}return u}function To(){const r=lr(),u=[];if("outputs"in r&&r.outputs&&typeof r.outputs=="object"){const i=r.outputs;if("memory"in i){let c=i.memory;Array.isArray(c)||(c=[c]);for(const D of c)u.push({id:xt(),offset:String(D.offset??0),length:String(D.length??1),type:D.type??"int"})}}return u}function $o(r){if(r.type==="int"){const u=parseInt(r.intValue,10);return isNaN(u)?0:u}if(r.type==="text")return r.intValue;if(r.type==="bytes")return[r.sign,...r.bytes.map(u=>{const i=parseInt(u,10);return isNaN(i)?0:i})];if(r.type==="merged-bytes"){const u=parseInt(r.addr,10);return[r.sign,isNaN(u)?0:u,...r.mergedBytes.map(i=>{const c=parseInt(i,10);return isNaN(c)?0:c})]}return 0}function Io(){const r=lr();if(ve.length===0)delete r.memory;else{const u=ve.map(i=>{const c=parseInt(i.offset,10)||0,D=i.words.map($o);return{offset:c,values:D}});r.memory=u.length===1?u[0]:u}if(Re.length===0)r.outputs&&typeof r.outputs=="object"&&(delete r.outputs.memory,Object.keys(r.outputs).length===0&&delete r.outputs);else{r.outputs||(r.outputs={});const u=Re.map(i=>({offset:parseInt(i.offset,10)||0,length:parseInt(i.length,10)||1,type:i.type}));r.outputs.memory=u.length===1?u[0]:u}sr.value=JSON.stringify(r,null,2),sr.dispatchEvent(new Event("input",{bubbles:!0}))}function ko(r,u,i){const c=`${r}-w${u}`;return`
    <div class="flex items-center gap-1 p-2 bg-gray-50 dark:bg-gray-800 rounded" data-word-index="${u}">
      <select id="${c}-type" class="w-24 px-1 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
        <option value="int" ${i.type==="int"?"selected":""}>Integer</option>
        <option value="text" ${i.type==="text"?"selected":""}>Text</option>
        <option value="bytes" ${i.type==="bytes"?"selected":""}>Bytes</option>
        <option value="merged-bytes" ${i.type==="merged-bytes"?"selected":""}>Addr&Bytes</option>
      </select>
      <div id="${c}-input-int" class="flex-1 flex gap-1 ${i.type==="int"?"":"hidden"}">
        <input id="${c}-value" type="number" min="-1073741823" max="1073741823" value="${i.intValue}" class="flex-1 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
      </div>
      <div id="${c}-input-text" class="flex-1 flex gap-1 ${i.type==="text"?"":"hidden"}">
        <input id="${c}-text" type="text" maxlength="5" value="${i.type==="text"?i.intValue:""}" placeholder="ABCDE" class="flex-1 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
      </div>
      <div id="${c}-input-bytes" class="flex-1 flex gap-1 ${i.type==="bytes"?"":"hidden"}">
        <select id="${c}-sign" class="w-10 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
          <option value="+" ${i.sign==="+"?"selected":""}>+</option>
          <option value="-" ${i.sign==="-"?"selected":""}>-</option>
        </select>
        ${[0,1,2,3,4].map(D=>`<input id="${c}-b${D+1}" type="number" min="0" max="63" value="${i.bytes[D]}" class="w-10 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-center">`).join("")}
      </div>
      <div id="${c}-input-merged" class="flex-1 flex gap-1 ${i.type==="merged-bytes"?"":"hidden"}">
        <select id="${c}-sign-m" class="w-10 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
          <option value="+" ${i.sign==="+"?"selected":""}>+</option>
          <option value="-" ${i.sign==="-"?"selected":""}>-</option>
        </select>
        <input id="${c}-addr" type="number" min="0" max="4095" value="${i.addr}" class="w-14 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-center">
        ${[0,1,2].map(D=>`<input id="${c}-b${D+3}m" type="number" min="0" max="63" value="${i.mergedBytes[D]}" class="w-10 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-center">`).join("")}
      </div>
      <button class="word-delete px-2 py-1 text-xs text-red-600 hover:text-red-800 dark:text-red-400" title="Delete word">&times;</button>
    </div>`}function Po(r){const u=r.words.map((i,c)=>ko(r.id,c,i)).join("");return`
    <div class="memory-block border border-gray-300 dark:border-gray-600 rounded p-3 space-y-2" data-block-id="${r.id}">
      <div class="flex items-center gap-2">
        <label class="text-xs font-bold">Offset:</label>
        <input type="number" min="0" max="3999" value="${r.offset}" class="block-offset w-20 px-2 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
        <div class="flex-1"></div>
        <button class="word-add px-2 py-1 text-xs bg-green-600 hover:bg-green-700 text-white rounded">+ Word</button>
        <button class="block-delete px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded">Delete Block</button>
      </div>
      <div class="words-container space-y-1">${u}</div>
    </div>`}function Oo(r){return`
    <div class="output-block border border-gray-300 dark:border-gray-600 rounded p-3" data-block-id="${r.id}">
      <div class="flex items-center gap-2 flex-wrap">
        <label class="text-xs font-bold">Offset:</label>
        <input type="number" min="0" max="3999" value="${r.offset}" class="output-offset w-16 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
        <label class="text-xs font-bold">Length:</label>
        <input type="number" min="1" max="4000" value="${r.length}" class="output-length w-16 px-1 py-1 text-xs font-mono border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
        <label class="text-xs font-bold">Type:</label>
        <select class="output-type px-1 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700">
          <option value="int" ${r.type==="int"?"selected":""}>Int</option>
          <option value="float" ${r.type==="float"?"selected":""}>Float</option>
          <option value="text" ${r.type==="text"?"selected":""}>Text</option>
          <option value="bytes" ${r.type==="bytes"?"selected":""}>Bytes</option>
        </select>
        <button class="output-delete px-2 py-1 text-xs text-red-600 hover:text-red-800 dark:text-red-400">&times;</button>
      </div>
    </div>`}function ct(){const r=document.getElementById("memory-blocks-container");r.innerHTML=ve.map(Po).join(""),Lo()}function ar(){const r=document.getElementById("memory-outputs-container");r.innerHTML=Re.map(Oo).join(""),Mo()}function Ro(r,u){const i=`${r}-w${u}`,D=document.getElementById(`${i}-type`).value,g={type:D,intValue:"",sign:"+",bytes:["0","0","0","0","0"],addr:"0",mergedBytes:["0","0","0"]};if(D==="int")g.intValue=document.getElementById(`${i}-value`).value;else if(D==="text")g.intValue=document.getElementById(`${i}-text`).value;else if(D==="bytes"){g.sign=document.getElementById(`${i}-sign`).value;for(let h=0;h<5;h++)g.bytes[h]=document.getElementById(`${i}-b${h+1}`).value}else if(D==="merged-bytes"){g.sign=document.getElementById(`${i}-sign-m`).value,g.addr=document.getElementById(`${i}-addr`).value;for(let h=0;h<3;h++)g.mergedBytes[h]=document.getElementById(`${i}-b${h+3}m`).value}return g}function Tt(){for(const r of ve){const u=document.querySelector(`[data-block-id="${r.id}"]`);if(!u)continue;r.offset=u.querySelector(".block-offset").value;const i=u.querySelectorAll("[data-word-index]");r.words=Array.from(i).map((c,D)=>Ro(r.id,D))}}function un(){for(const r of Re){const u=document.querySelector(`.output-block[data-block-id="${r.id}"]`);u&&(r.offset=u.querySelector(".output-offset").value,r.length=u.querySelector(".output-length").value,r.type=u.querySelector(".output-type").value)}}function Lo(){document.querySelectorAll(".memory-block").forEach(r=>{const u=r.getAttribute("data-block-id");r.querySelector(".block-delete")?.addEventListener("click",()=>{ve=ve.filter(i=>i.id!==u),ct()}),r.querySelector(".word-add")?.addEventListener("click",()=>{const i=ve.find(c=>c.id===u);i&&(Tt(),i.words.push(Ke()),ct())}),r.querySelectorAll(".word-delete").forEach((i,c)=>{i.addEventListener("click",()=>{const D=ve.find(g=>g.id===u);D&&D.words.length>1&&(Tt(),D.words.splice(c,1),ct())})}),r.querySelectorAll("[data-word-index]").forEach((i,c)=>{const D=`${u}-w${c}`,g=document.getElementById(`${D}-type`);g?.addEventListener("change",()=>{const h=g.value;document.getElementById(`${D}-input-int`)?.classList.toggle("hidden",h!=="int"),document.getElementById(`${D}-input-text`)?.classList.toggle("hidden",h!=="text"),document.getElementById(`${D}-input-bytes`)?.classList.toggle("hidden",h!=="bytes"),document.getElementById(`${D}-input-merged`)?.classList.toggle("hidden",h!=="merged-bytes")})})})}function Mo(){document.querySelectorAll(".output-block").forEach(r=>{const u=r.getAttribute("data-block-id");r.querySelector(".output-delete")?.addEventListener("click",()=>{Re=Re.filter(i=>i.id!==u),ar()})})}function No(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/ /g,"&nbsp;")}function er(r,u){return u==="text"&&typeof r=="string"?No(r):String(r)}function on(){const r=document.getElementById("memory-results-container");try{const u=dt.parse(An.value)||{};if(!("memory"in u)){r.innerHTML='<p class="text-gray-500 text-sm">No memory output</p>';return}let i=u.memory;Array.isArray(i)||(i=[i]);let c="";for(const D of i){const g=D.offset??0,h=D.type??"int";c+=`<div class="border border-gray-300 dark:border-gray-600 rounded p-2 mb-2">
                <div class="text-xs font-bold mb-1">Offset: ${g} | Type: ${h}</div>
                <div class="font-mono text-xs break-all">`,"value"in D?c+=`<span class="bg-gray-100 dark:bg-gray-700 px-1 rounded">${er(D.value,h)}</span>`:"values"in D&&(Array.isArray(D.values)?c+=D.values.map((m,_)=>`<span class="bg-gray-100 dark:bg-gray-700 px-1 rounded mr-1 mb-1 inline-block">[${g+_}] ${er(m,h)}</span>`).join(""):c+=`<span class="bg-gray-100 dark:bg-gray-700 px-1 rounded">${er(D.values,h)}</span>`),c+="</div></div>"}r.innerHTML=c}catch{r.innerHTML='<p class="text-gray-500 text-sm">No results</p>'}}function Uo(){const r=document.getElementById("tab-codes"),u=document.getElementById("tab-registers"),i=document.getElementById("tab-memory"),c=document.getElementById("panel-codes"),D=document.getElementById("panel-registers"),g=document.getElementById("panel-memory");function h(C){const b=!D.classList.contains("hidden"),$=!g.classList.contains("hidden");b&&C!=="registers"&&bo(),$&&C!=="memory"&&_(),[r,u,i].forEach(k=>{k.classList.remove("border-blue-500","text-blue-600","dark:text-blue-400"),k.classList.add("border-transparent","text-gray-500","dark:text-gray-400")}),[c,D,g].forEach(k=>k.classList.add("hidden")),C==="codes"?(r.classList.add("border-blue-500","text-blue-600","dark:text-blue-400"),r.classList.remove("border-transparent","text-gray-500","dark:text-gray-400"),c.classList.remove("hidden")):C==="registers"?(u.classList.add("border-blue-500","text-blue-600","dark:text-blue-400"),u.classList.remove("border-transparent","text-gray-500","dark:text-gray-400"),D.classList.remove("hidden"),Ao()):(i.classList.add("border-blue-500","text-blue-600","dark:text-blue-400"),i.classList.remove("border-transparent","text-gray-500","dark:text-gray-400"),g.classList.remove("hidden"),m(),on())}function m(){ve=xo(),Re=To(),ve.length===0&&(ve=[]),ct(),ar()}function _(){Tt(),un(),Io()}r.addEventListener("click",()=>h("codes")),u.addEventListener("click",()=>h("registers")),i.addEventListener("click",()=>h("memory")),document.getElementById("add-memory-block")?.addEventListener("click",()=>{Tt(),ve.push({id:xt(),offset:"0",words:[Ke()]}),ct()}),document.getElementById("add-output-block")?.addEventListener("click",()=>{un(),Re.push({id:xt(),offset:"0",length:"1",type:"int"}),ar()}),An.addEventListener("input",()=>{g.classList.contains("hidden")||on()})}const Wo=document.querySelector("#mixal-editor"),Vo=document.querySelector("#io-spec-editor"),Bt=document.querySelector("#results-editor"),jo=document.querySelector("#button-execute");Ji();Bo();Uo();jo.addEventListener("click",()=>{Yi();try{const r=dt.parse(Vo.value);let u=Wi(Wo.value,r);Bt.value=JSON.stringify(u,null,2)}catch(r){r instanceof Error?Bt.value=r.message:Bt.value=""+r}Bt.dispatchEvent(new Event("input",{bubbles:!0}))});
